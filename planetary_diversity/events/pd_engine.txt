namespace = pdengine

event = {
	id = pdengine.00
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = { set_global_flag = planetarydiversity }
}

country_event = {
	id = pdengine.01
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Continental
	immediate = {

		#Wet Planets
		every_galaxy_planet = {                 
            limit = { is_planet_class = pc_continental system_star = { OR = { is_star_class = sc_k is_star_class = sc_trinary_3 is_star_class = sc_binary_7 } } is_homeworld = no is_moon = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } } #TODO 80/20, no 0/100
            change_pc = pc_superhabitable 
			reroll_planet = yes 
			clear_planet_modifiers = yes
			random_list = {
				20 = { set_planet_size = 31 }
				20 = { set_planet_size = 32 }
				20 = { set_planet_size = 33 }
				20 = { set_planet_size = 34 }
				20 = { set_planet_size = 35 }
			}
        }
        every_galaxy_planet = {                 
            limit = { is_planet_class = pc_continental is_homeworld = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } }
            random_list = {
                20 = { }    
                20 = { change_pc = pc_retinal reroll_planet = yes }
                20 = { change_pc = pc_forest reroll_planet = yes }        
                20 = { change_pc = pc_lake reroll_planet = yes }    
                20 = { change_pc = pc_tepid reroll_planet = yes }    
                20 = { change_pc = pc_megaflora reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdmegaflora } }  
                20 = { change_pc = pc_pd_petrified reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdpetrified } }                       
            }
        }
		every_galaxy_planet = { 				
			limit = { 
				is_planet_class = pc_ocean is_homeworld = no  
				NOR = {
					has_planet_flag = prescripted_ideal
					has_planet_flag = pd_ignore 
				    has_planet_flag = living_planet
					has_planet_flag = polaris_patrol_3
					solar_system = { has_star_flag = empire_cluster }
				}
			}
			random_list = {
				20 = { }
				20 = { change_pc = pc_cascadian reroll_planet = yes }		
				20 = { change_pc = pc_subarctic reroll_planet = yes }	
				20 = { change_pc = pc_wetswamp reroll_planet = yes }
				20 = { change_pc = pc_fog reroll_planet = yes }
				20 = { change_pc = pc_karst reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = karst } }
				20 = { change_pc = pc_reef reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdreef } }	
				20 = { change_pc = pc_pd_archipelago reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdarchipelago } }					
			}
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tropical system_star = { OR = { is_star_class = sc_m is_star_class = sc_trinary_1 is_star_class = sc_binary_6 } } is_homeworld = no is_moon = no nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } } #TODO 80/20, no 0/100
			change_pc = pc_wettidallylocked reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = wettidallylocked }
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_tropical is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { change_pc = pc_desertislands	reroll_planet = yes	}
				20 = { }		
				20 = { change_pc = pc_mangrove reroll_planet = yes }		
				20 = { change_pc = pc_hajungle reroll_planet = yes }	
				20 = { change_pc = pc_cenote reroll_planet = yes }	
				20 = { change_pc = pc_biolumen reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = biolumen } }
				20 = { change_pc = pc_geothermal reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = geothermal } }					
			}
		}

		#Dry Planets
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_desert is_homeworld = no  nor = { has_planet_flag = prescripted_ideal  has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }	
				20 = { change_pc = pc_outback reroll_planet = yes }	
				20 = { change_pc = pc_coastal reroll_planet = yes }			
				20 = { change_pc = pc_salt reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdsalt } }
				20 = { change_pc = pc_aquifer reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdaquifer } }
				20 = { change_pc = pc_pd_dry_cave reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pd_dry_cave } }
			}
		}
		every_galaxy_planet = {                 
            limit = { is_planet_class = pc_arid system_star = { OR = { is_star_class = sc_k is_star_class = sc_trinary_3 is_star_class = sc_binary_7 } } is_homeworld = no is_moon = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } } #TODO 80/20, no 0/100
            change_pc = pc_pd_dry_superhab 
			reroll_planet = yes 
			clear_planet_modifiers = yes
			random_list = {
				20 = { set_planet_size = 31 }
				20 = { set_planet_size = 32 }
				20 = { set_planet_size = 33 }
				20 = { set_planet_size = 34 }
				20 = { set_planet_size = 35 }
			}
        }
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arid is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }	
				20 = { change_pc = pc_mesa reroll_planet = yes }
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }	
				20 = { change_pc = pc_med reroll_planet = yes }	
				20 = { change_pc = pc_coral reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdcoral } }	
				20 = { change_pc = pc_primal reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = primal } }				
			}
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_savannah system_star = { OR = { is_star_class = sc_m is_star_class = sc_trinary_1 is_star_class = sc_binary_6 } } is_homeworld = no is_moon = no nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } } #TODO 80/20, no 0/100
			change_pc = pc_tidallylocked reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = tidal_locked2 }
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_savannah is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }		
				20 = { change_pc = pc_steppe reroll_planet = yes }
				20 = { change_pc = pc_prairie reroll_planet = yes }		
				20 = { change_pc = pc_veld reroll_planet = yes }	
				20 = { change_pc = pc_semiarid reroll_planet = yes }	
				20 = { change_pc = pc_supercon reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = supercon } }
				20 = { change_pc = pc_pd_sinkhole reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdsinkhole } }						
			}
		}

		#Cold Planets
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arctic is_homeworld = no is_moon = no system_star = { OR = { is_star_class = sc_m is_star_class = sc_trinary_1 is_star_class = sc_binary_6 } } nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				75 = { change_pc = pc_eyeball reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdeyeball } }
				25 = { }
			}	
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_arctic is_homeworld = no nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }
				20 = { change_pc = pc_aeolian reroll_planet = yes }
				20 = { change_pc = pc_storm reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdstorm } }
				20 = { change_pc = pc_pd_iceberg reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdiceberg } }	
			}
		}
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_alpine is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_boreal reroll_planet = yes }			
				20 = { change_pc = pc_snow reroll_planet = yes }	
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }		
				20 = { change_pc = pc_glacio reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdglacio } }	
				20 = { change_pc = pc_lanthanide reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdlanthanide } }	
				20 = { change_pc = pc_pd_cold_cave reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pd_cold_cave } }				
			}
		}
		every_galaxy_planet = {                 
            limit = { is_planet_class = pc_tundra system_star = { OR = { is_star_class = sc_k is_star_class = sc_trinary_3 is_star_class = sc_binary_7 } } is_homeworld = no is_moon = no NOR = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore has_planet_flag = planet_earth solar_system = { has_star_flag = empire_cluster } solar_system = { has_star_flag = empire_home_system } solar_system = { has_star_flag = sol_system } solar_system = { has_star_flag = sol } } } #TODO 80/20, no 0/100
            change_pc = pc_pd_cold_superhab 
			reroll_planet = yes 
			clear_planet_modifiers = yes
			random_list = {
				20 = { set_planet_size = 31 }
				20 = { set_planet_size = 32 }
				20 = { set_planet_size = 33 }
				20 = { set_planet_size = 34 }
				20 = { set_planet_size = 35 }
			}
        }
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_tundra is_homeworld = no  nor = { has_planet_flag = prescripted_ideal has_planet_flag = pd_ignore solar_system = { has_star_flag = empire_cluster } } }
			random_list = {
				20 = { }
				20 = { change_pc = pc_swamp reroll_planet = yes }
				20 = { change_pc = pc_mushroom reroll_planet = yes }					
				20 = { change_pc = pc_mud reroll_planet = yes }					
				20 = { change_pc = pc_basalt reroll_planet = yes }
				20 = { change_pc = pc_cryoflora reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdcryoflora } }
				20 = { change_pc = pc_lichen reroll_planet = yes clear_planet_modifiers = yes add_modifier = { modifier = pdlichen } }			
			}
		}
	}
}

country_event = {
	id = pdengine.02
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Hothouse
	immediate = {
		every_galaxy_planet = { 
			limit = {  
				is_planet_class = pc_toxic
				solar_system = { not = { has_star_flag = sol_system } }
			}	
			random_list = {
				40 = { 
					change_pc = pc_hothouse 
					if = {
						limit = {
							has_modifier = toxic_terraforming_candidate
						}
						remove_modifier = toxic_terraforming_candidate
						add_modifier = { modifier = terraforming_candidate }
					}
				}
				60 = { }	
			}
		}
	}
}

#Player Start Homeworld Spawning
country_event = {
	id = pdengine.03
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {

		#Cascadian
		every_galaxy_planet = { limit = { is_planet_class = pc_cascadian is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Atoll
		every_galaxy_planet = { limit = { is_planet_class = pc_desertislands is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Crag
		every_galaxy_planet = { limit = { is_planet_class = pc_subarctic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mangrove
		every_galaxy_planet = { limit = { is_planet_class = pc_mangrove is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Wet Swamp
		every_galaxy_planet = { limit = { is_planet_class = pc_wetswamp is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Fog
		every_galaxy_planet = { limit = { is_planet_class = pc_fog is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tepui
		every_galaxy_planet = { limit = { is_planet_class = pc_hajungle is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Cenote
		every_galaxy_planet = { limit = { is_planet_class = pc_cenote is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Retinal
		every_galaxy_planet = { limit = { is_planet_class = pc_retinal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Steppe
		every_galaxy_planet = { limit = { is_planet_class = pc_steppe is_homeworld = yes }	generate_pd_start_deposits_and_blockers = yes }
		#Dune
		every_galaxy_planet = { limit = { is_planet_class = pc_sandsea is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Oasis
		every_galaxy_planet = { limit = { is_planet_class = pc_oasis is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mesa
		every_galaxy_planet = { limit = { is_planet_class = pc_mesa is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Badlands
		every_galaxy_planet = { limit = { is_planet_class = pc_badlands is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Outback
		every_galaxy_planet = { limit = { is_planet_class = pc_outback is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Coastal
		every_galaxy_planet = { limit = { is_planet_class = pc_coastal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Bog
		every_galaxy_planet = { limit = { is_planet_class = pc_swamp is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mud
		every_galaxy_planet = { limit = { is_planet_class = pc_mud is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Basalt
		every_galaxy_planet = { limit = { is_planet_class = pc_basalt is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Frigid
		every_galaxy_planet = { limit = { is_planet_class = pc_frozen_desert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Glacial
		every_galaxy_planet = { limit = { is_planet_class = pc_glacial is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Atacama
		every_galaxy_planet = { limit = { is_planet_class = pc_hadesert is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Prairie
		every_galaxy_planet = { limit = { is_planet_class = pc_prairie is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Veld
		every_galaxy_planet = { limit = { is_planet_class = pc_veld is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Veld
		every_galaxy_planet = { limit = { is_planet_class = pc_semiarid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Med
		every_galaxy_planet = { limit = { is_planet_class = pc_med is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Boreal
		every_galaxy_planet = { limit = { is_planet_class = pc_boreal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Mushroom
		every_galaxy_planet = { limit = { is_planet_class = pc_mushroom is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Antarctic
		every_galaxy_planet = { limit = { is_planet_class = pc_antarctic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aeolian
		every_galaxy_planet = { limit = { is_planet_class = pc_aeolian is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Snow 
		every_galaxy_planet = { limit = { is_planet_class = pc_snow is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Highland 
		every_galaxy_planet = { limit = { is_planet_class = pc_highland is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Dune Forest 
		every_galaxy_planet = { limit = { is_planet_class = pc_duneforest is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes } 
		#Methane
		every_galaxy_planet = { limit = { is_planet_class = pc_methane is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Hycean
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_hycean is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Ammonia
		every_galaxy_planet = { limit = { is_planet_class = pc_ammonia is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Sulfur
		every_galaxy_planet = { limit = { is_planet_class = pc_sulfur is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Acid
		every_galaxy_planet = { limit = { is_planet_class = pc_acid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Ash
		every_galaxy_planet = { limit = { is_planet_class = pc_ash is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Nuked
		every_galaxy_planet = { limit = { is_planet_class = pc_nuked is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Biolumen
		every_galaxy_planet = { limit = { is_planet_class = pc_biolumen is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Superhabitable
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_superhabitable 
				is_homeworld = yes 
			} 
			change_planet_size = +14 
			generate_pd_start_deposits_and_blockers = yes 
		}
		#Dry Superhabitable
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_pd_dry_superhab 
				is_homeworld = yes 
			} 
			change_planet_size = +14 
			generate_pd_start_deposits_and_blockers = yes 
		}
		#Cold Superhabitable
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_pd_cold_superhab 
				is_homeworld = yes 
			} 
			change_planet_size = +14 
			generate_pd_start_deposits_and_blockers = yes 
		}
		#Geothermal
		every_galaxy_planet = { limit = { is_planet_class = pc_geothermal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Wet Tidally Locked
		every_galaxy_planet = { limit = { is_planet_class = pc_wettidallylocked is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Tidally Locked
		every_galaxy_planet = { limit = { is_planet_class = pc_tidallylocked is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Supercontinent
		every_galaxy_planet = { limit = { is_planet_class = pc_supercon is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Sinkhole
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_sinkhole is_homeworld = yes is_moon = no } generate_pd_start_deposits_and_blockers = yes }
		#Crystal
		every_galaxy_planet = { limit = { is_planet_class = pc_crystal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Floating
		every_galaxy_planet = { limit = { is_planet_class = pc_floating is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Scrapyard
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_scrapyard is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Zro Stripmine
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_zro is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Graveyard
		every_galaxy_planet = { limit = { is_planet_class = pc_graveyard is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Techno-Organic
		every_galaxy_planet = { limit = { is_planet_class = pc_technoorganic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Irradiated
		every_galaxy_planet = { limit = { is_planet_class = pc_irradiated is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Karst
		every_galaxy_planet = { limit = { is_planet_class = pc_karst is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Cold Karst
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_cold_cave is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Dry Karst
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_dry_cave is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Reef
		every_galaxy_planet = { limit = { is_planet_class = pc_reef is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Archipelago
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_archipelago is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Warform
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_orange_warform is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Archive
		every_galaxy_planet = { limit = { is_planet_class = pc_archive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Machine
		every_galaxy_planet = { limit = { is_planet_class = pc_machine is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Hive
		every_galaxy_planet = { limit = { is_planet_class = pc_hive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Forest
		every_galaxy_planet = { limit = { is_planet_class = pc_forest is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lake
		every_galaxy_planet = { limit = { is_planet_class = pc_lake is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Tepid
		every_galaxy_planet = { limit = { is_planet_class = pc_tepid is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Primal
		every_galaxy_planet = { limit = { is_planet_class = pc_primal is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aquatic
		every_galaxy_planet = { limit = { is_planet_class = pc_aquatic is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Salt
		every_galaxy_planet = { limit = { is_planet_class = pc_salt is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Aquifer
		every_galaxy_planet = { limit = { is_planet_class = pc_aquifer is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Coral
		every_galaxy_planet = { limit = { is_planet_class = pc_coral is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Storm
		every_galaxy_planet = { limit = { is_planet_class = pc_storm is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Iceberg
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_iceberg is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Rogue
		every_galaxy_planet = { limit = { is_planet_class = pc_rogue is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Cryoflora
		every_galaxy_planet = { limit = { is_planet_class = pc_cryoflora is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lichen
		every_galaxy_planet = { limit = { is_planet_class = pc_lichen is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Eyeball
		every_galaxy_planet = { limit = { is_planet_class = pc_eyeball is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Glaciovolcanic
		every_galaxy_planet = { limit = { is_planet_class = pc_glacio is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Lanthanide
		every_galaxy_planet = { limit = { is_planet_class = pc_lanthanide is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Petrified
		every_galaxy_planet = { limit = { is_planet_class = pc_pd_petrified is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Megaflora
		every_galaxy_planet = { limit = { is_planet_class = pc_megaflora is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#MegafloraHive
		every_galaxy_planet = { limit = { is_planet_class = pc_megaflorahive is_homeworld = yes } generate_pd_start_deposits_and_blockers = yes }
		#Gaia
		#every_galaxy_planet = { limit = { is_planet_class = pc_gaia }
		#Hot Gaia
		#every_galaxy_planet = { limit = { is_planet_class = pc_hot_gaia }
		#Cold Gaia
		#every_galaxy_planet = { limit = { is_planet_class = pc_cold_gaia }
	}
}

country_event = {
	id = pdengine.04
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Remove Vanilla Tidally Locked Modifier
	immediate = {
		every_galaxy_planet = { 
			limit = { 
				is_moon = no 
			}
			remove_modifier = tidal_locked
		}
		every_galaxy_planet = { 
			remove_modifier = chthonian_planet	
		}
		every_galaxy_planet = { 
			remove_modifier = carbon_world	
		}
	}
}

#PD Rare Classes Species Start Nearby Planets
country_event = {
	id = pdengine.05
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {

		#Tidally-Locked Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tidallylocked  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_savannah reroll_planet = yes }	
				20 = { change_pc = pc_veld reroll_planet = yes }		
				20 = { change_pc = pc_steppe reroll_planet = yes }		
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }
			}
		}
		#Wet Tidally-Locked Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_wettidallylocked  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desertislands	reroll_planet = yes	}		
				20 = { change_pc = pc_tropical reroll_planet = yes }		
				20 = { change_pc = pc_mangrove reroll_planet = yes }		
				20 = { change_pc = pc_hajungle reroll_planet = yes }		
				20 = { change_pc = pc_cenote reroll_planet = yes }
			}
		}
		#Supercon Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_supercon  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_savannah reroll_planet = yes }	
				20 = { change_pc = pc_veld reroll_planet = yes }		
				20 = { change_pc = pc_steppe reroll_planet = yes }		
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }
			}
		}
		#Sinkhole Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_sinkhole  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_savannah reroll_planet = yes }	
				20 = { change_pc = pc_veld reroll_planet = yes }		
				20 = { change_pc = pc_steppe reroll_planet = yes }		
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }
			}
		}
		#Biolumen Player Start
		every_galaxy_planet = {
			limit = { is_planet_class = pc_biolumen  is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_mangrove reroll_planet = yes }
				20 = { change_pc = pc_desertislands reroll_planet = yes }
				20 = { change_pc = pc_tropical reroll_planet = yes }
				20 = { change_pc = pc_hajungle reroll_planet = yes }
				20 = { change_pc = pc_cenote reroll_planet = yes }
			}
		}
		#Superhabitable Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_superhabitable is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental	reroll_planet = yes	}		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }
			}
		}
		#Geothermal Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_geothermal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desertislands	reroll_planet = yes	}		
				20 = { change_pc = pc_tropical reroll_planet = yes }		
				20 = { change_pc = pc_mangrove reroll_planet = yes }		
				20 = { change_pc = pc_hajungle reroll_planet = yes }		
				20 = { change_pc = pc_cenote reroll_planet = yes }
			}
		}
		#Tomb World Player Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_nuked is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }		
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }	
				3 = { change_pc = pc_lake reroll_planet = yes }
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }		
				3 = { change_pc = pc_veld reroll_planet = yes }		
				3 = { change_pc = pc_semiarid reroll_planet = yes }			
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }		
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }				
				3 = { change_pc = pc_antarctic reroll_planet = yes }	
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }		
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }				
			}
		}
		#Floating
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_floating is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }		
				20 = { change_pc = pc_tepid reroll_planet = yes }	
			}
		}
		#Crystal
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_crystal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }		
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#Techno-Organic
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_technoorganic is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {	
				20 = { change_pc = pc_alpine reroll_planet = yes }	
				20 = { change_pc = pc_boreal reroll_planet = yes }		
				20 = { change_pc = pc_snow reroll_planet = yes }		
				20 = { change_pc = pc_highland reroll_planet = yes }
				20 = { change_pc = pc_duneforest reroll_planet = yes }			
			}
		}
		#Graveyard
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_graveyard is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {		
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }		
			}
		}
		#Zro Stripmine
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_zro is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {		
				20 = { change_pc = pc_savannah reroll_planet = yes	}	
				20 = { change_pc = pc_steppe reroll_planet = yes }	
				20 = { change_pc = pc_prairie reroll_planet = yes }
				20 = { change_pc = pc_veld reroll_planet = yes }
				20 = { change_pc = pc_semiarid reroll_planet = yes }		
			}
		}
		#Radiotrophic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_irradiated is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				3 = { change_pc = pc_continental reroll_planet = yes }
				3 = { change_pc = pc_cascadian reroll_planet = yes }	
				3 = { change_pc = pc_ocean reroll_planet = yes }	
				3 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				3 = { change_pc = pc_subarctic reroll_planet = yes }	
				3 = { change_pc = pc_tropical reroll_planet = yes }		
				3 = { change_pc = pc_mangrove reroll_planet = yes }	
				3 = { change_pc = pc_wetswamp reroll_planet = yes }	
				3 = { change_pc = pc_fog reroll_planet = yes }			
				3 = { change_pc = pc_hajungle reroll_planet = yes }		
				3 = { change_pc = pc_cenote reroll_planet = yes }	
				3 = { change_pc = pc_retinal reroll_planet = yes }		
				3 = { change_pc = pc_forest reroll_planet = yes }	
				3 = { change_pc = pc_lake reroll_planet = yes }	
				3 = { change_pc = pc_tepid reroll_planet = yes }

				3 = { change_pc = pc_desert reroll_planet = yes }
				3 = { change_pc = pc_sandsea reroll_planet = yes }	
				3 = { change_pc = pc_oasis reroll_planet = yes }	
				3 = { change_pc = pc_arid reroll_planet = yes }	
				3 = { change_pc = pc_mesa reroll_planet = yes }
				3 = { change_pc = pc_badlands reroll_planet = yes }
				3 = { change_pc = pc_outback reroll_planet = yes }
				3 = { change_pc = pc_coastal reroll_planet = yes }
				3 = { change_pc = pc_savannah reroll_planet = yes }		
				3 = { change_pc = pc_steppe reroll_planet = yes }		
				3 = { change_pc = pc_med reroll_planet = yes }			
				3 = { change_pc = pc_prairie reroll_planet = yes }		
				3 = { change_pc = pc_veld reroll_planet = yes }	
				3 = { change_pc = pc_semiarid reroll_planet = yes }			
				3 = { change_pc = pc_hadesert reroll_planet = yes }	

				3 = { change_pc = pc_arctic reroll_planet = yes }
				3 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				3 = { change_pc = pc_glacial reroll_planet = yes }	
				3 = { change_pc = pc_alpine reroll_planet = yes }	
				3 = { change_pc = pc_hadesert reroll_planet = yes }	
				3 = { change_pc = pc_boreal reroll_planet = yes }	
				3 = { change_pc = pc_tundra reroll_planet = yes }		
				3 = { change_pc = pc_swamp reroll_planet = yes }		
				3 = { change_pc = pc_mud reroll_planet = yes }		
				3 = { change_pc = pc_basalt reroll_planet = yes }			
				3 = { change_pc = pc_antarctic reroll_planet = yes }	
				3 = { change_pc = pc_aeolian reroll_planet = yes }		
				3 = { change_pc = pc_snow reroll_planet = yes }			
				3 = { change_pc = pc_highland reroll_planet = yes }		
				3 = { change_pc = pc_duneforest reroll_planet = yes }	

				1 = { change_pc = pc_gaia reroll_planet = yes }				
			}
		}
		#Karst Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_karst is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_ocean }
				20 = { change_pc = pc_cascadian }
				20 = { change_pc = pc_wetswamp }
				20 = { change_pc = pc_fog }
				20 = { change_pc = pc_subarctic }		
			}
		}
		#Cold Cave Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_cold_cave is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Dry Cave Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_dry_cave is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Reef Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_reef is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_ocean }
				20 = { change_pc = pc_cascadian }
				20 = { change_pc = pc_wetswamp }
				20 = { change_pc = pc_fog }
				20 = { change_pc = pc_subarctic }		
			}
		}
		#Archipelago Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_archipelago is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_ocean }
				20 = { change_pc = pc_cascadian }
				20 = { change_pc = pc_wetswamp }
				20 = { change_pc = pc_fog }
				20 = { change_pc = pc_subarctic }		
			}
		}
		#Primal Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_primal is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }					
			}
		}
		#Primal Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_dry_superhab is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }					
			}
		}
		#Salt Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_salt is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desert reroll_planet = yes }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }
				20 = { change_pc = pc_outback reroll_planet = yes }		
				20 = { change_pc = pc_coastal reroll_planet = yes }
			}
		}
		#Aquifer Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_aquifer is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_desert reroll_planet = yes }
				20 = { change_pc = pc_sandsea reroll_planet = yes }	
				20 = { change_pc = pc_oasis reroll_planet = yes }
				20 = { change_pc = pc_outback reroll_planet = yes }		
				20 = { change_pc = pc_coastal reroll_planet = yes }
			}
		}
		#Coral Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_coral is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arid reroll_planet = yes	}	
				20 = { change_pc = pc_mesa reroll_planet = yes }	
				20 = { change_pc = pc_badlands reroll_planet = yes }
				20 = { change_pc = pc_hadesert reroll_planet = yes }
				20 = { change_pc = pc_med reroll_planet = yes }	
			}
		}
		#Storm Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_storm is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arctic reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }	
				20 = { change_pc = pc_glacial reroll_planet = yes }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				20 = { change_pc = pc_aeolian reroll_planet = yes }		
			}
		}
		#Iceberg Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_iceberg is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arctic reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }	
				20 = { change_pc = pc_glacial reroll_planet = yes }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				20 = { change_pc = pc_aeolian reroll_planet = yes }		
			}
		}
		#Cryoflora Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_cryoflora is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_tundra reroll_planet = yes }
				20 = { change_pc = pc_mud reroll_planet = yes }		
				20 = { change_pc = pc_basalt reroll_planet = yes }	
				20 = { change_pc = pc_mushroom reroll_planet = yes }
				20 = { change_pc = pc_swamp reroll_planet = yes }		
			}
		}
		#Dry Superhab Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_cold_superhab is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_tundra reroll_planet = yes }
				20 = { change_pc = pc_mud reroll_planet = yes }		
				20 = { change_pc = pc_basalt reroll_planet = yes }	
				20 = { change_pc = pc_mushroom reroll_planet = yes }
				20 = { change_pc = pc_swamp reroll_planet = yes }		
			}
		}
		#Lichen Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_lichen is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_tundra reroll_planet = yes }
				20 = { change_pc = pc_mud reroll_planet = yes }		
				20 = { change_pc = pc_basalt reroll_planet = yes }	
				20 = { change_pc = pc_mushroom reroll_planet = yes }
				20 = { change_pc = pc_swamp reroll_planet = yes }		
			}
		}
		#Eyeball Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_eyeball is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_arctic reroll_planet = yes }
				20 = { change_pc = pc_antarctic reroll_planet = yes }	
				20 = { change_pc = pc_glacial reroll_planet = yes }
				20 = { change_pc = pc_frozen_desert reroll_planet = yes }	
				20 = { change_pc = pc_aeolian reroll_planet = yes }		
			}
		}
		#Glaciovolcanic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_glacio is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Lanthanide Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_lanthanide is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_alpine reroll_planet = yes }
				20 = { change_pc = pc_highland reroll_planet = yes }	
				20 = { change_pc = pc_snow reroll_planet = yes }
				20 = { change_pc = pc_boreal reroll_planet = yes }	
				20 = { change_pc = pc_duneforest reroll_planet = yes }	
			}
		}
		#Petrified Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_petrified is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#Megaflora Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_megaflora is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#MegafloraHive Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_megaflorahive is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				20 = { change_pc = pc_continental reroll_planet = yes }	
				20 = { change_pc = pc_retinal reroll_planet = yes }		
				20 = { change_pc = pc_forest reroll_planet = yes }		
				20 = { change_pc = pc_lake reroll_planet = yes }	
				20 = { change_pc = pc_tepid reroll_planet = yes }		
			}
		}
		#Aquatic Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_aquatic is_homeworld = no has_planet_flag = prescripted_ideal }
			random_list = {
				33 = { change_pc = pc_desertislands	reroll_planet = yes	}	
				33 = { change_pc = pc_ocean reroll_planet = yes }		
				33 = { change_pc = pc_subarctic reroll_planet = yes }		
			}
		}
		#Ammonia Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_ammonia is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = ammonia } } add_modifier = { modifier = ammonia days = -1 } }
			add_deposit = d_ammonia_sea				
		}
		#Sulfur Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_sulfur is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = pdsulfur } } add_modifier = { modifier = pdsulfur days = -1 } }
			add_deposit = d_sulfur_pool				
		}
		#Acid Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_acid is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = pdacid } } add_modifier = { modifier = pdacid days = -1 } }
			add_deposit = d_acid_lakes		
			add_deposit = d_pdacid_rain		
		}
		#Ash Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_ash is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = ash } } add_modifier = { modifier = ash days = -1 } }
		}
		#Methane Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_methane is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = methane } } add_modifier = { modifier = methane days = -1 } }
		}
		#Methane Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_pd_hycean is_homeworld = no has_planet_flag = prescripted_ideal }
			if = { limit = { not = { has_modifier = pd_hycean } } add_modifier = { modifier = pd_hycean days = -1 } }
		}
		#Archive Start
		every_galaxy_planet = { 				
			limit = { 
				OR = {
					is_planet_class = pc_archive 
					is_planet_class = pc_pd_orange_warform 
				}
				is_homeworld = no 
				has_planet_flag = prescripted_ideal 
			}
			pd_any_random_planet = yes
		}
		#Machine Start
		every_galaxy_planet = { 				
			limit = { 
				is_planet_class = pc_machine 
				is_homeworld = no 
				has_planet_flag = prescripted_ideal }
				pd_any_random_planet = yes
		}
		#Hive Start
		every_galaxy_planet = { 				
			limit = { is_planet_class = pc_hive is_homeworld = no has_planet_flag = prescripted_ideal }
			pd_any_random_planet = yes
		}
	}	
}

country_event = {
	id = pdengine.06
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { 
				OR = { 
					is_planet_class = pc_tidallylocked 
					is_planet_class = pc_eyeball 
					is_planet_class = pc_wettidallylocked 
				} 
				is_homeworld = yes 
				is_moon = yes 
			}
			ROOT = { set_country_flag = pdtidallylockedhomeworldmoon }
		}
	}
}

country_event = {
	id = pdengine.07
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
		
	trigger	 = { 
		has_country_flag = pdtidallylockedhomeworldmoon 
		any_owned_planet = {
			OR = {
				is_planet_class = pc_tidallylocked 
				is_planet_class = pc_eyeball 
				is_planet_class = pc_wettidallylocked 
			}
		}
	}

	immediate = {
		random_planet_within_border = {
			limit = { is_capital = no is_moon = no is_star = no is_asteroid = no NOT = { is_planet_class = pc_gas_giant } is_artificial = no is_pd_habitat = no }
			set_planet_size = 20
			if = {
				limit = {
					root = { any_planet_within_border = { is_planet_class = pc_tidallylocked } }
				}
				change_pc = pc_tidallylocked
			}
			if = {
				limit = {
					root = { any_planet_within_border = { is_planet_class = pc_eyeball } }
				}
				change_pc = pc_eyeball
			}
			if = {
				limit = {
					root = { any_planet_within_border = { is_planet_class = pc_wettidallylocked } }
				}
				change_pc = pc_wettidallylocked
			}
			if = {
				limit = {
					root = { 
						has_origin = origin_default 
						is_gestalt = no
					}
				}
				add_modifier = { modifier = prosp_uni_mod days = 7200 }
			}
			if = {
				limit = {
					root = { 
						has_origin = origin_default 
						is_gestalt = yes
					}
				}
				add_modifier = { modifier = prosp_uni_mod_gestalt days = 7200 }
			}
			generate_pd_start_deposits_and_blockers = yes
			set_owner = ROOT
			set_planet_flag = tidallylockedhomeworld
			#All other pop types
			create_pop = { 
				species = owner_species
				ethos = random
			}	
			set_capital = yes
			generate_start_buildings_and_districts = yes
			generate_start_pops = yes
			IF = {
				limit = { owner = { has_origin = origin_tree_of_life } }
				add_deposit = d_tree_of_life_home
				remove_modifier = no_lifetree
			}
		}
		every_owned_pop = {
			modify_species = {
				species = this
				ideal_planet_class = pc_tidallylocked
				base = none # makes this replace parent species
			}
		}			
		random_owned_planet = {
			limit = { is_capital = no }
			change_pc = pc_barren
			reset_planet = yes
		}
		every_planet_within_border = {
			limit = { 
				is_star = yes 
			}
			change_pc = pc_m_star
		}
		solar_system = { set_star_class = sc_m }
	}
} 

country_event = {
	id = pdengine.08
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { is_planet_class = pc_cascadian }
			set_planet_flag = pdcascadian
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_desertislands }
			set_planet_flag = pddesertislands
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_subarctic }
			set_planet_flag = pdsubarctic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mangrove }
			set_planet_flag = pdmangrove
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_wetswamp }
			set_planet_flag = pdwetswamp
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_fog }
			set_planet_flag = pdfog
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_hajungle }
			set_planet_flag = pdhajungle
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_cenote }
			set_planet_flag = pdcenote
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_biolumen }
			set_planet_flag = pdbiolumen
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_steppe }
			set_planet_flag = pdsteppe
		}
		every_galaxy_planet = {
				limit = { is_planet_class = pc_sandsea }
			set_planet_flag = pdsandsea
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_oasis }
			set_planet_flag = pdoasis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mesa }
			set_planet_flag = pdmesa
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_badlands }
			set_planet_flag = pdbadlands
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_outback }
			set_planet_flag = pdoutback
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_coastal }
			set_planet_flag = pdcoastal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_swamp }
			set_planet_flag = pdswamp
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mud }
			set_planet_flag = pdmud
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_basalt }
			set_planet_flag = pdbasalt
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_frozen_desert }
			set_planet_flag = pdfrozendesert
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_glacial }
			set_planet_flag = pdglacial
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_hadesert }
			set_planet_flag = pdhadesert
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_boreal }
			set_planet_flag = pdboreal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_mushroom }
			set_planet_flag = pdmushroom
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tidallylocked }
			set_planet_flag = pdtidallylocked
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_wettidallylocked }
			set_planet_flag = pc_wettidallylocked
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_supercon }
			set_planet_flag = pdsupercon
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_sinkhole }
			set_planet_flag = pc_pd_sinkhole
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_karst }
			set_planet_flag = pdkarst
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_cold_cave }
			set_planet_flag = pdcoldcave
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_dry_cave }
			set_planet_flag = pddrycave
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_reef }
			set_planet_flag = pdreef
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_archipelago }
			set_planet_flag = pdarchipelago
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_superhabitable }
			set_planet_flag = pdsuperhabitable
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_dry_superhab }
			set_planet_flag = pddrysuperhabitable
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_cold_superhab }
			set_planet_flag = pdcoldsuperhabitable
		}
		every_galaxy_planet = {
				limit = { is_planet_class = pc_geothermal }
			set_planet_flag = pdgeothermal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_methane }
			set_planet_flag = pdmethane
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_hycean }
			set_planet_flag = pdhycean
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ammonia }
			set_planet_flag = pdammonia
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_sulfur }
			set_planet_flag = pdsulfur
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_acid }
			set_planet_flag = pdacid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ash }
			set_planet_flag = pdash
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_floating }
			set_planet_flag = pdfloating
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_scrapyard }
			set_planet_flag = pdscrapyard
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_zro }
			set_planet_flag = pdzrostripmine
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_crystal }
			set_planet_flag = pdcrystal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_graveyard }
				set_planet_flag = pdgraveyard
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_technoorganic }
			set_planet_flag = pdtechnoorganic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_archive }
			set_planet_flag = pdarchive
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_pd_orange_warform }
			set_planet_flag = pdwarform
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_antarctic }
			set_planet_flag = pdantarctic
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_aeolian }
			set_planet_flag = pdaeolian
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_snow }
			set_planet_flag = pdsnow
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_highland }
			set_planet_flag = pdhighland
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_duneforest }
			set_planet_flag = pc_duneforest
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_retinal }
			set_planet_flag = pdretinal
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_prairie }
			set_planet_flag = pdprairie
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_veld }
			set_planet_flag = pdveld
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_semiarid }
			set_planet_flag = pdsemiarid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_ecocity }
			set_planet_flag = pdecocity
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_corpoarc }
			set_planet_flag = pdcorpoarc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_palacearc }
			set_planet_flag = pdpalacearc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_capitalarc }
			set_planet_flag = pdcapitalearc
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_necropolis }
			set_planet_flag = pdnecropolis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_machine_necropolis }
			set_planet_flag = pdmachine_necropolis
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_necrohive }
			set_planet_flag = pdnecrohvie
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_forest }
			set_planet_flag = pdforest
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_lake }
			set_planet_flag = pdlake
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_tepid }
			set_planet_flag = pdtepid
		}
		every_galaxy_planet = {
			limit = { is_planet_class = pc_med }
			set_planet_flag = pdmed
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant       
	            planet_size = 35     
					}
			set_planet_flag = pdjupiter
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_molten       
				planet_size = 6   
				is_moon = yes  
					}
			set_planet_flag = pdio
			set_planet_entity = {
				picture = pc_volcanic
				entity = "volcanic_planet_01_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 6   
				is_moon = yes 
					}
			set_planet_flag = pdeuropa
			set_planet_entity = {
				picture = pc_subglacial
				entity = "subglacial_planet_01_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 9   
				is_moon = yes 
			}
			set_planet_flag = pdganymede
			clear_deposits = yes
			add_modifier = { modifier = pdhabsubglacialocean days = -1	} 
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_gas_giant       
	            planet_size = 30     
					}
			set_planet_flag = pdsaturn
			set_planet_entity = {
				entity = "gas_giant_saturn_entity"
			}
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
	            is_planet_class = pc_frozen       
				planet_size = 8   
				is_moon = yes  
					}
			set_planet_flag = pdtitan
			set_planet_entity = {
				picture = pc_hydrocarbon
				entity = "hydrocarbon_planet_01_entity"
			}
		}
		#every_galaxy_planet = {
		#	limit = {					
        #        solar_system = { has_star_flag = sol }
	    #        is_planet_class = pc_gas_giant   mer
		#		has_moon = yes       
		#		planet_size = 20  
		#			}
		#	set_planet_flag = pdneptune
		#	set_planet_entity = {
		#		entity = "gas_giant_neptune_entity"
		#	}
		#}
		#every_galaxy_planet = {
		#	limit = {					
        #        solar_system = { has_star_flag = sol }
	    #        is_planet_class = pc_gas_giant     
		#		planet_size = 20 
		#		NOT = { has_moon = yes }
		#			}
		#	set_planet_flag = pduranus
		#	set_planet_entity = {
		#		entity = "gas_giant_uranus_entity"
		#	}
		#}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
				is_planet_class = pc_barren_cold
				is_moon = yes				       
	            planet_size = 5
					}
			set_planet_flag = pdluna
		}
		every_galaxy_planet = {
			limit = {					
                solar_system = { has_star_flag = sol }
				is_planet_class = pc_barren		       
				OR = {
				planet_size = 13
				planet_size = 11
					}
				}
			set_planet_flag = pdmars
			set_planet_entity = {
				picture = pc_barren_mars
				entity = "barren_planet_mars_entity"
			}
		}
		#every_galaxy_planet = {
		#	limit = {					
        #        solar_system = { has_star_flag = sol }
		#		is_planet_class = pc_molten		       
	    #        planet_size = 10
		#	}
		#	set_planet_flag = pdmercury
		#	set_planet_entity = {
		#		picture = pc_iron
		#		entity = "iron_planet_01_entity"
		#	}
		#}
	}
}

# Ecumenopolis complete
planet_event = {
	id = pdengine.09
	title = pdengine.09.name
	desc = pdengine.09.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_ecocity
	}

	option = {
		name = pdengine.09.a
	}
}

# Machine Factory complete
planet_event = {
	id = pdengine.10
	title = pdengine.10.name
	desc = pdengine.10.desc
	picture = GFX_evt_ai_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_machine_factory
	}

	option = {
		name = pdengine.10.a
	}
}

# Hive Specialization Complete
planet_event = {
	id = pdengine.11
	title = pdengine.11.name
	desc = pdengine.11.desc
	picture = GFX_evt_hive_mind
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_bioforge
			is_planet_class = pc_biofort
			is_planet_class = pc_biocapital
		}
	}

	option = {
		name = pdengine.11.a
	}
}

country_event = {
	id = pdengine.12
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Terraforming Candidate
	immediate = {
		every_system = {
			limit = {
				NOR = {
					is_star_class = sc_black_hole
					is_star_class = sc_neutron_star
					is_star_class = sc_pulsar
				}
			}
			every_system_planet = {
				limit = {
					is_planet_class = pc_hothouse
					NOR = {
						has_deposit = d_nanites_deposit
						has_anomaly = yes
						has_modifier = terraforming_candidate
					}
					planet_size > 9
					planet_size < 31
				}
				random_list = {
					100 = {}
					1 = { #about 20 on a huge galaxy with default settings.
						add_modifier = { modifier = terraforming_candidate }
						complex_trigger_modifier = {
							trigger = check_galaxy_setup_value
							parameters = {
								setting = habitable_worlds_scale
							}
							mode = factor
						}
					}
				}
			}
		}
		every_galaxy_planet = { 
			limit = {  
				OR = {
					is_planet_class = pc_molten
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
				}
				NOR = { 
					has_planet_flag = hoard_planet
					has_modifier = terraforming_candidate
					is_moon = yes
					has_moon = yes 
				}	
				planet_size > 9
				planet_size < 31	
				solar_system = { is_star_class = sc_m }
			}	
			random_list = {
				10 = { 
					change_pc = pc_tidallylocked_barren
					add_modifier = { modifier = terraforming_candidate days = -1 } 
				}
				95 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = {  
				OR = {
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
				}
				NOR = { 
					has_modifier = terraforming_candidate
					is_moon = yes
				}	
				planet_size > 9
				planet_size < 31	
				solar_system = { is_star_class = sc_k }
			}	
			random_list = {
				5 = { 
					change_pc = pc_barren_superhab
					add_modifier = { modifier = terraforming_candidate days = -1 } 
					random_list = {
						20 = { set_planet_size = 31 }
						20 = { set_planet_size = 32 }
						20 = { set_planet_size = 33 }
						20 = { set_planet_size = 34 }
						20 = { set_planet_size = 35 }
					}
				}
				95 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = {  
				OR = {
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
				}
				NOR = { 
					has_modifier = terraforming_candidate
					#is_moon = yes
				}	
				planet_size > 9
				planet_size < 31	
			}	
			random_list = {
				1 = { 
					change_pc = pc_barren_cave
					add_modifier = { modifier = terraforming_candidate days = -1 } 
				}
				140 = { }	
			}
		}
	}
}

# Check Planet Class for Deposits + Modifiers
planet_event = {
	id = pdengine.13
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				OR = {
					is_pd_machine = yes
					is_pd_gaia = yes
					is_pd_hive_world = yes
					is_pd_aquatics = yes
				}
			}
		remove_modifier = engineered_environment
		remove_modifier = engineered_environment_gaia
		}
		
		#Remove
		if = { 
			limit = { 
				NOT = { is_planet_class = pc_geothermal } 
			}
			remove_modifier = geothermal
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_superhabitable } }
		remove_modifier = superhabitable
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_dry_superhab } }
			remove_modifier = pd_dry_superhab
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_cold_superhab } }
			remove_modifier = pd_cold_superhab
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_biolumen } }
		remove_modifier = biolumen
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_tidallylocked } }
		remove_modifier = tidal_locked2
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_wettidallylocked } }
		remove_modifier = wettidallylocked
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_supercon } }
		remove_modifier = supercon
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_sinkhole } }
			remove_modifier = pdsinkhole
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_karst } }
			remove_modifier = karst
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_cold_cave } }
			remove_modifier = pd_cold_cave
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_dry_cave } }
			remove_modifier = pd_dry_cave
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_reef } }
		remove_modifier = pdreef
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_pd_archipelago } }
		remove_modifier = pdarchipelago
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_salt } }
		remove_modifier = pdsalt
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_aquifer } }
		remove_modifier = pdaquifer
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_coral } }
		remove_modifier = pdcoral
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_storm } }
		remove_modifier = pdstorm
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_pd_iceberg } }
		remove_modifier = pdiceberg
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_rogue } }
		remove_modifier = pdrogue
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_cryoflora } }
		#remove_deposit = d_cryo_deposit
		remove_modifier = pdcryoflora
			if = {
				limit = { is_colony = yes }
				remove_building = building_cryo_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_lichen } }
		remove_modifier = pdlichen
			if = {
				limit = { is_colony = yes }
				remove_building = building_lichen_farm
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_eyeball } }
		remove_modifier = pdeyeball
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_glacio } }
		remove_modifier = pdglacio
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_lanthanide } }
		remove_modifier = pdlanthanide
			if = {
				limit = { is_colony = yes }
				remove_building = building_lanthanide_mine
			}
		}
		if = { 
			limit = { 
				NOT = { 
					OR = { 
						is_planet_class = pc_megaflora 
						is_pd_megaflora_hive = yes
					} 
				} 
			}
			remove_modifier = pdmegaflora
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_pd_petrified } }
			remove_modifier = pdpetrified
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_primal } }
		remove_modifier = primal
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_ash } }
		remove_modifier = ash
		}
		if = { 
		limit = { NOT = { OR = { is_planet_class = pc_aquatic is_planet_class = pc_tidallyaquatic } } }
		remove_deposit = d_aquatic_trench
		remove_modifier = aquatic
			if = {
				limit = { is_colony = yes }
				remove_building = building_undersea_gasmine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_ammonia } }
		remove_deposit = d_ammonia_sea
		remove_modifier = ammonia
			if = {
				limit = { is_colony = yes }
				remove_building = building_ammonia_electrodeposition
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_sulfur } }
		remove_deposit = d_sulfur_pool
		remove_modifier = pdsulfur
			if = {
				limit = { is_colony = yes }
				remove_building = building_sulfur_onsen
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_acid } }
		remove_deposit = d_acid_lakes
		remove_deposit = d_pdacid_rain
		remove_modifier = pdacid
			if = {
				limit = { is_colony = yes }
				remove_building = building_acid_lab
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_methane } }
		remove_modifier = methane
			if = {
				limit = { is_colony = yes }
				remove_building = building_frozen_gas_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_pd_hycean } }
		remove_modifier = pd_hycean
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_irradiated } }
		remove_deposit = d_rad_blooms_field
		remove_modifier = radiotrophic
			if = {
				limit = { is_colony = yes }
				remove_building = building_sugarbush
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_floating } }
		remove_deposit = d_eludium_islands
		remove_modifier = floating
			if = {
				limit = { is_colony = yes }
				remove_building = building_eludium_mine
			}
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_pd_zro }
		}
		#clear_deposits = yes
		#reroll_deposits = yes
		remove_modifier = pd_zro_stripmine
		}
		if = { 
		limit = { NOT = { is_planet_class = pc_graveyard } }
		remove_deposit = d_graveyard_well
		remove_modifier = graveyard
			if = {
				limit = { is_colony = yes }
				remove_building = building_graveyard_well
			}
		}
		if = { 
			limit = { NOT = { is_planet_class = pc_crystal } }
			remove_deposit = d_crystal_guild
			remove_modifier = crystal
				if = {
					limit = { is_colony = yes }
					remove_building = building_crystal_carver
				}
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_technoorganic 
						is_planet_class = pc_pd_techno_arc
					} 
				}
			}
			remove_deposit = d_subsurface_assembly
			remove_modifier = technoorganic
		}
		if = { 
			limit = { 
				NOT = {
					is_planet_class = pc_hive 
				} 
			}
			remove_deposit = d_pd_hive_world_boost
		}
		if = { 
		limit = { 
			NOT = {
				OR = {
					is_pd_machine = yes
					is_planet_class = pc_machine_factory 
				}
			} 
		}
		remove_deposit = d_pd_machine_world_boost
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_hothouse 
						is_planet_class = pc_toxic 
						is_planet_class = pc_gas_giant 
						is_planet_class = pc_pd_hothouse_hab 
						is_planet_class = pc_pd_toxic_hab
						is_planet_class = pc_pd_gas_giant_hab 
					}
				} 
			}
		remove_modifier = pdhabcalmwinds
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_barren 
						is_planet_class = pc_barren_cold
						is_planet_class = pc_pd_barren_hab 
						is_planet_class = pc_pd_barren_cold_hab
					}
				} 
			}
		remove_modifier = pdhabcavesystem
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_frozen 
						is_planet_class = pc_pd_frozen_hab
					}
				} 
			}
		remove_modifier = pdhabsubglacialocean
		}
		if = { 
			limit = { 
				NOT = { 
					OR = {
						is_planet_class = pc_molten 
						is_planet_class = pc_pd_molten_hab
					}
				} 
			}
		remove_modifier = pdhablevel1
		remove_modifier = pdhablevel2
		remove_modifier = pdhablevel3
		remove_modifier = pdgasgianthab
		}
		if = { 
			limit = { 
				NOT = { 
					is_pd_habitat = yes
				} 
			}
		remove_modifier = pdhabvolcanicminerals
		}
		if = { 
			limit = { 
				NOR = { 
					is_pd_shroud_world = yes
					is_planet_class = pc_city 
					is_planet_class = pc_ecocity 
					is_planet_class = pc_milarc 
					is_planet_class = pc_corpoarc 
				} 
			}
			remove_modifier = pdcomposer
			remove_deposit = d_pdshroud_composer
			remove_modifier = pdeater
			remove_deposit = d_pdshroud_eater
			remove_modifier = pddesire
			remove_deposit = d_pdshroud_desire
			remove_modifier = pdwhispers
			remove_deposit = d_pdshroud_whispers
		}
		if = { 
		limit = { 
			NOR = { 
				is_planet_class = pc_habitat 
				is_pd_habitat = yes
			} 
		}
		remove_modifier = hab_terraforming_candidate
		remove_modifier = flooded_habitat
		}
		if = { 
		limit = { 
			is_pd_necro_world = no
		}
		remove_deposit = d_pd_necro_planet
		}
	}
}

# Rare Worlds get Deposits
planet_event = {
	id = pdengine.14
	hide_window = yes
	is_triggered_only = yes

	immediate = { 
		if = { 
		limit = { is_planet_class = pc_geothermal }
		add_modifier = { modifier = "geothermal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_superhabitable }
		add_modifier = { modifier = "superhabitable" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_dry_superhab }
			add_modifier = { modifier = "pd_dry_superhab" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_cold_superhab }
			add_modifier = { modifier = "pd_cold_superhab" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_biolumen }
		add_modifier = { modifier = "biolumen" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_tidallylocked }
		add_modifier = { modifier = "tidal_locked2" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_supercon }
			add_modifier = { modifier = "supercon" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_sinkhole }
			add_modifier = { modifier = "pdsinkhole" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_karst }
			add_modifier = { modifier = "karst" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_cold_cave }
			add_modifier = { modifier = "pd_cold_cave" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_dry_cave }
			add_modifier = { modifier = "pd_dry_cave" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_reef }
				add_modifier = { modifier = "pdreef" days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_archipelago }
				add_modifier = { modifier = "pdarchipelago" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_primal  }
		add_modifier = { modifier = "primal" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_salt }
		add_modifier = { modifier = "pdsalt" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_aquifer }
		add_modifier = { modifier = "pdaquifer" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_coral }
		add_modifier = { modifier = "pdcoral" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_storm not = { has_deposit = d_storm_corridor } }
		add_modifier = { modifier = "pdstorm" days = -1 }
		set_planet_flag =  pdnoseamonster
		}
		if = { 
		limit = { is_planet_class = pc_pd_iceberg }
		add_modifier = { modifier = "pdiceberg" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_rogue not = { has_modifier = pdrogue } }
		add_modifier = { modifier = pdrogue days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_cryoflora not = { has_modifier = pdcryoflora } }
		add_modifier = { modifier = pdcryoflora days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_lichen not = { has_modifier = pdlichen } }
		add_modifier = { modifier = "pdlichen" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_eyeball }
		add_modifier = { modifier = "pdeyeball" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_glacio }
		add_modifier = { modifier = "pdglacio" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_lanthanide }
		add_modifier = { modifier = pdlanthanide days = -1 }
		}
		if = { 
			limit = { is_planet_class = pc_pd_petrified }
			add_modifier = { modifier = pdpetrified days = -1 }
		}
		if = { 
			limit = { 
				OR = { 
					is_planet_class = pc_megaflora 
					is_pd_megaflora_hive = yes
				} 
			}
			add_modifier = { modifier = "pdmegaflora" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_ash }
		add_modifier = { modifier = "ash" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_aquatic not = { has_deposit = d_aquatic_trench } }
		add_deposit = d_aquatic_trench
		add_modifier = { modifier = "aquatic" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_ammonia not = { has_deposit = d_ammonia_sea } }
		add_deposit = d_ammonia_sea
		add_modifier = { modifier = "ammonia" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_sulfur not = { has_deposit = d_sulfur_pool } }
		add_deposit = d_sulfur_pool
		add_modifier = { modifier = "pdsulfur" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_acid not = { has_deposit = d_acid_lakes } }
		add_deposit = d_acid_lakes
		add_deposit = d_pdacid_rain
		add_modifier = { modifier = "pdacid" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_methane  }
		add_modifier = { modifier = "methane" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_pd_hycean }
		add_modifier = { modifier = "pd_hycean" days = -1 }
		}
		if = { 
		limit = { is_planet_class = pc_irradiated not = { has_deposit = d_rad_blooms_transplant } }
		add_deposit = d_rad_blooms_transplant
		add_modifier = { modifier = "radiotrophic" days = -1 }
		}
		if = { 
			limit = { 
				is_pd_gaia = yes
			}
			remove_modifier = engineered_environment
			remove_modifier = engineered_environment_gaia
		}
		if = { 
			limit = { 
				is_pd_hive_world = yes
				not = { has_deposit = d_pd_hive_world_boost } 
			}
		add_deposit = d_pd_hive_world_boost
		}
		if = { 
			limit = { 
				OR = {
					is_pd_machine = yes
					is_planet_class = pc_machine_factory 
					is_planet_class = pc_machine_capital 
				}
				not = { has_deposit = d_pd_machine_world_boost } 
			}
			add_deposit = d_pd_machine_world_boost
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } }
			set_planet_entity = { picture = pc_aquatic }
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture has_planet_flag = hotaquatic }
			set_planet_entity = { picture = pc_aquatichot_uw }
		}
		if = {
			limit = { NOT = { is_planet_class = pc_city } is_pd_arcology = no has_planet_flag = pdaquapicture has_planet_flag = coldaquatic }
			set_planet_entity = { picture = pc_aquaticcold_uw }
		}
	}
}

#Aquatic World types
country_event = {
	id = pdengine.15
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		every_galaxy_planet = {
			limit = { is_planet_class = pc_aquatic is_homeworld = no is_colony = no	}
			random_list = {
				40 = { set_planet_entity = { picture = pc_aquatic_surface } }
				30 = { set_planet_entity = { entity = "aquatichot_planet_01_entity" picture = pc_aquatichot } set_planet_flag = hotaquatic }
				30 = { set_planet_entity = { entity = "aquaticcold_planet_01_entity" picture = pc_aquaticcold } set_planet_flag = coldaquatic }
			}
			while = {
				limit = { has_deposit = d_dense_jungle }
				remove_deposit = d_dense_jungle
				set_deposit = d_toxic_kelp
			}
		}
	}
}

#Aquatic Colonize Planet with Water
planet_event = {
	id = pdengine.16
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { 
			OR = {
				has_trait = trait_pc_aquatic_preference
				has_country_flag = pd_aquatic_planetview
			}
		}
		OR = {
			is_wet = yes
			is_dry = yes
			is_cold = yes
			is_planet_class = pc_gaia
			is_planet_class = pc_hot_gaia
			is_planet_class = pc_cold_gaia
			is_planet_class = pc_ringworld_habitable
			is_planet_class = pc_city
			is_planet_class = pc_mesa
			is_pd_shroud_world = yes
			is_pd_aquatics = yes
		}
	}

	immediate = {
			#Aquatics
			IF = { limit = { is_planet_class = pc_aquatic NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = hotaquatic } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = coldaquatic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tidallyaquatic } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			#Wet
			IF = { limit = { is_planet_class = pc_ocean } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_continental } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_forest } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_lake } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tepid } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_cascadian } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture } 
			IF = { limit = { is_planet_class = pc_retinal } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_steppe } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_city } set_planet_entity = { picture = pc_aquaticcity } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_hadesert } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tidallylocked } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture  }
			IF = { limit = { is_planet_class = pc_wettidallylocked } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture  }
			IF = { limit = { is_planet_class = pc_supercon } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pd_sinkhole } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_karst } set_planet_entity = { picture = pc_aquatickarst_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pd_cold_cave } set_planet_entity = { picture = pc_aquatickarst_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pd_dry_cave } set_planet_entity = { picture = pc_aquatickarst_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_reef } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pd_archipelago } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_superhabitable } set_planet_entity = { picture = pc_aquatic } set_planet_flag = pdaquapicture }
			#Cold
			IF = { limit = { is_planet_class = pc_subarctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_swamp } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_mud } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_basalt } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_glacial } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_boreal } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_arctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_alpine } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_highland } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_duneforest } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_mushroom } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_wetswamp } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_fog } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_antarctic } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_aeolian } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_snow } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_tundra } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_frozen_desert } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_cold_gaia } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_storm } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_pd_iceberg } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_eyeball } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			IF = { limit = { is_planet_class = pc_pd_cold_superhab } set_planet_entity = { picture = pc_aquaticcold_uw } set_planet_flag = pdaquapicture set_planet_flag = coldaquatic }
			#Tropical
			IF = { limit = { is_planet_class = pc_desertislands } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_tropical } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_mangrove } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_hajungle } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_cenote } set_planet_entity = { picture = pc_aquaticcenote_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_oasis } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_med } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_savannah } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_gaia } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_hot_gaia } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_ringworld_habitable } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_mesa } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_badlands } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_outback } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_coastal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_desert } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_arid } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_sandsea } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_geothermal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_pd_dry_superhab } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_biolumen } set_planet_entity = { picture = pc_aquaticbio_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			IF = { limit = { is_planet_class = pc_primal } set_planet_entity = { picture = pc_aquatichot_uw } set_planet_flag = pdaquapicture set_planet_flag = hotaquatic }
			#Shroud
			IF = { limit = { is_planet_class = pc_pdshroud } set_planet_entity = { picture = pc_aquaticshroud_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_tidallyshroud } set_planet_entity = { picture = pc_aquaticshroud_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pdshroud_superhab } set_planet_entity = { picture = pc_aquaticshroud_uw } set_planet_flag = pdaquapicture }
			IF = { limit = { is_planet_class = pc_pdshroud_cave } set_planet_entity = { picture = pc_aquaticshroud_uw } set_planet_flag = pdaquapicture }
	}
}
#Non-Aquatic Race lands on Aquaitc Planet
planet_event = {
	id = pdengine.161
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { 
			NOT =  { 
				OR = {
					has_trait = trait_pc_aquatic_preference 
					has_trait = trait_aquatic
				}
			} 
		}
		is_planet_class = pc_aquatic
	}

	immediate = {
		IF = { limit = { OR = { is_planet_class = pc_aquatic } NOT = { OR = { has_planet_flag = hotaquatic has_planet_flag = coldaquatic } } } set_planet_entity = { picture = pc_aquatichab } }
		IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = hotaquatic } set_planet_entity = { picture = pc_aquatichothab } }
		IF = { limit = { is_planet_class = pc_aquatic has_planet_flag = coldaquatic } set_planet_entity = { picture = pc_aquaticcoldhab } }
		IF = { limit = { is_planet_class = pc_tidallyaquatic } set_planet_entity = { picture = pc_tidallyaquatichab } }
		IF = { limit = { is_planet_class = pc_aquatic_superhab } set_planet_entity = { picture = pc_aquatic_superhab } }
		IF = { limit = { is_planet_class = pc_aquatic_cave } set_planet_entity = { picture = pc_tidallyaquatichab } }
	}
}

country_event = {
	id = pdengine.17
	hide_window = yes
	fire_only_once = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_lost_colony }
	}
	
	immediate = {
		random_planet_within_border = {
			limit = { 
				is_capital = yes
				OR = {
					is_pd_rare = yes
					is_pd_regular = yes
				} 
			}
			generate_pd_start_deposits_and_blockers = yes
		}
	}
}

#Remove Tag on Terraform
country_event = {
	id = pdengine.18
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_galaxy_planet = {
			limit = { 
				has_planet_flag = pdaquapicture
				}
			remove_planet_flag = pdaquapicture	
		}
	}
}

#Lost Colony PD Start Fix
planet_event = {
	id = pdengine.19
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				is_pd_gaia = no
				NOT = { has_planet_flag = special_start_planet } 
				NOT = { is_planet_class = pc_continental }
				NOT = { is_planet_class = pc_tropical }
				NOT = { is_planet_class = pc_tundra }
				NOT = { is_planet_class = pc_arctic }
				NOT = { is_planet_class = pc_arid }
				NOT = { is_planet_class = pc_desert }
				NOT = { is_planet_class = pc_ocean }
				NOT = { is_planet_class = pc_alpine }
				NOT = { is_planet_class = pc_savannah }
				NOT = { is_planet_class = pc_relic }
				NOT = { is_planet_class = pc_nuked_relic }
				NOT = { is_planet_class = pc_milarc_relic }
				is_pd_unique_hab = no
			}
			if = {
				limit = {
					OR = {
						NOT = { has_planet_flag = planet_earth }
						owner = { has_origin = origin_remnants } #no special earth for you, sorry
					}
					NOT = { 
						owner = { has_origin = origin_shattered_ring } 	#setup in initializer 
					}
				}
				generate_pd_start_deposits_and_blockers = yes
				
			}
			if = {
				limit = {
					is_planet_class = pc_machine
					owner = { has_origin = origin_machine } 
				}
				generate_pd_start_deposits_and_blockers = yes
			}
		}
	}
}

#Destory Double Unique Worlds
country_event = {
	id = pdengine.20
	hide_window = yes
	is_triggered_only = yes

   	immediate = {
		if = { 
			limit = { 
				any_country = { 
					has_origin = origin_floating_world 
				} 
			}
			every_galaxy_planet = {
				if = {
					limit = { 
						solar_system = { 
							has_star_flag = floating_system 
						} 
						is_planet_class = pc_floating 
					}
					change_pc = pc_broken
					remove_planet_flag = floating_planet
					remove_planet_flag = pdfloating
					remove_modifier = floating
					remove_deposit = d_eludium_islands
					set_deposit = d_volatile_motes_5
				}
			}
			every_system = {
				remove_star_flag = floating_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_crystal_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = pdcrystal_system } is_planet_class = pc_crystal }
					change_pc = pc_broken
					remove_planet_flag = crystal_planet
					remove_planet_flag = pdcrystal
					remove_modifier = crystal
					remove_deposit = d_crystal_guild
					set_deposit = d_rare_crystals_5
				}
			}
		every_system = {
			remove_star_flag = pdcrystal_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_graveyard_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = graveyard_system } is_planet_class = pc_graveyard }
					change_pc = pc_broken
					remove_planet_flag = graveyard_planet
					remove_planet_flag = pdgraveyard
					remove_modifier = graveyard
					remove_deposit = d_graveyard_well
					set_deposit = d_exotic_gases_5
				}
			}
		every_system = {
			remove_star_flag = graveyard_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_techno_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = technoorganic_system } is_planet_class = pc_technoorganic }
					change_pc = pc_broken
					remove_planet_flag = technoorganic_planet
					remove_planet_flag = pdtechnoorganic
					remove_modifier = technoorganic
					remove_deposit = d_subsurface_assembly
					set_deposit = d_living_metal_deposit
				}
			}
			every_system = {
				remove_star_flag = technoorganic_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_archive_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = archive_system_notorigin } is_planet_class = pc_archive }
				change_pc = pc_broken
				remove_planet_flag = archive_planet_notorigin
				remove_planet_flag = pdarchive
				remove_modifier = archive
				set_deposit = d_physics_10
				}
			}
			every_system = {
				remove_star_flag = archive_planet_notorigin
			} 
		}
		if = { limit = { any_country = { has_origin = origin_pd_warform_world } }
			every_galaxy_planet = {
				if = {
					limit = { solar_system = { has_star_flag = warform_system_notorigin } is_planet_class = pc_pd_orange_warform }
					change_pc = pc_broken
					remove_planet_flag = warform_planet_notorigin
					remove_planet_flag = pdwarform
					set_deposit = d_engineering_10
				}
			}
			every_system = {
				remove_star_flag = warform_planet_notorigin
			} 
		}
		if = { limit = { any_country = { has_origin = origin_crucible_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_shielded has_planet_flag = pd_crucible_homeplanet }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_homeplanet
				remove_modifier = crucible_homeplanet
			}
		}
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_shielded has_planet_flag = pd_crucible_planet }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_planet
				remove_modifier = crucible_shieldedplanet
				add_deposit = d_physics_10
				add_deposit = d_zro_deposit_1
			}
		}
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = crucible_notorigin } is_planet_class = pc_broken has_planet_flag = pd_crucible_military_moon }
				change_pc = pc_broken
				remove_planet_flag = pd_crucible_military_moon
				remove_modifier = crucible_military_moon
			}
		}
		every_system = {
			IF = {
				limit = { has_star_flag = crucible_notorigin }
				remove_star_flag = crucible_notorigin
				remove_star_flag = crucible_system
				}
			} 
		}
		if = { limit = { any_country = { has_origin = origin_pd_zro_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = pd_stripmine_systemnotorigin } is_planet_class = pc_pd_zro }
					change_pc = pc_broken
					remove_planet_flag = pd_stripmine_planet
					remove_modifier = pd_zro_stripmine
					set_deposit = d_zro_deposit_1
				}
			}
		every_system = {
			remove_star_flag = pd_stripmine_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_pd_scrapyard_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = pd_scrapyard_systemnotorigin } is_planet_class = pc_pd_scrapyard }
					change_pc = pc_broken
					remove_planet_flag = pd_scrapyard_planet
					set_deposit = d_alloys_10
				}
			}
		every_system = {
			remove_star_flag = pd_scrapyard_system
			} 
		}
		if = { limit = { any_country = { has_origin = origin_pd_warform_world } }
        every_galaxy_planet = {
            if = {
                limit = { solar_system = { has_star_flag = pd_warform_systemnotorigin } is_planet_class = pc_pd_orange_warform }
					change_pc = pc_broken
					remove_planet_flag = pd_warform_planet
					set_deposit = d_alloys_10
				}
			}
		every_system = {
			remove_star_flag = pd_warform_system
			} 
		}
	}
}

#Tiyanki Starting Events
country_event = {
	id = pdengine.21
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_graveyard_world }
	}

   	immediate = {
			root = { 
				set_country_flag = tiyanki_encountered 
				#give_technology = { tech = tech_space_whale_weapon_1 } }
				country_event = { id = tutorial.61 }	
			}
			every_galaxy_planet = {
				limit = { is_planet_class = pc_graveyard }
				set_planet_flag = graveyard_planet
				planet_event = { id = pdgraveyard.30 days = 5 } 
		}
	}
}

# Mini-galaxy ativate
country_event = {
	id = pdengine.24
	title = "pdengine.24.name"
	desc = "pdengine.24.desc"
	picture = GFX_evt_surreal_visions
	
	is_triggered_only = yes

	option = {
		name = "FASCINATING"
		locked_random_list = {
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = engineering
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = physics
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
			10 = {
				add_random_research_option = {
					add_progress = 0.25
					area = society
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
		}
	}
}

#PD Sol Hab Start
planet_event = {
	id = pdengine.25
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_pd_sol_hab_start }
		}
	}

	immediate = {
		if = {
			limit = { has_planet_flag = pd_habitat_start_earth }
			pdhabitat_sol_system_setup = yes
		}
	}
}

#PD Hab Start
planet_event = {
	id = pdengine.26
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_pd_sol_hab_start }
	}

	immediate = {
		if = {
			limit = { has_planet_flag = pd_habitat_start }
			pdhabitat_sol_system_setup = yes
		}
	}
}

#PD Auto Infest Planet for Hive Start
planet_event = {
	id = pdengine.29
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		NOT = { has_planet_flag = pd_infesting1 }
		NOT = { has_planet_flag = pd_infesting2 }
		NOT = { is_planet_class = pc_hive }
		#NOT = { is_planet_class = pc_pdhive1 }
		#NOT = { is_planet_class = pc_pdhive2 }
		NOT = { is_artificial = yes }
		NOT = { is_pd_habitat = yes }
		is_acot_unique_planet_class = no
	}

	immediate = {
		IF = {
			limit = { not = { OR = { is_planet_class = pc_pdhive1 is_planet_class = pc_pdhive2 } } }
			set_planet_flag = pd_infesting1	
			add_modifier = { modifier = pd_infestingplanet days = 3600 }
			planet_event = { id = pdengine.30 days = 3600 }
			remove_modifier = no_pdhive
		}
		ELSE_IF = {
			limit = { is_planet_class = pc_pdhive1 }
			set_planet_flag = pd_infesting2
			add_modifier = { modifier = pd_infestingplanet2 days = 7200 }
			planet_event = { id = pdengine.31 days = 7200 }
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
			remove_modifier = land_appropriation
			remove_planet_flag = pd_restart_infesting
		}
		ELSE_IF = {
			limit = { is_planet_class = pc_pdhive2 }
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
			remove_modifier = land_appropriation
			remove_planet_flag = pd_restart_infesting
		}
	}
}

#PD Change to infested Planet level 1
planet_event = {
	id = pdengine.30
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		has_planet_flag = pd_infesting1
	}

	immediate = {
		#Wet
		if = { limit = { is_planet_class = pc_continental } set_planet_flag = pdhive_continental }
		if = { limit = { is_planet_class = pc_tropical } set_planet_flag = pdhive_tropical }
		if = { limit = { is_planet_class = pc_ocean } set_planet_flag = pdhive_ocean }
		if = { limit = { is_planet_class = pc_cascadian } set_planet_flag = pdhive_cascadian }
		if = { limit = { is_planet_class = pc_retinal } set_planet_flag = pdhive_retinal }
		if = { limit = { is_planet_class = pc_forest } set_planet_flag = pdhive_forest }
		if = { limit = { is_planet_class = pc_lake } set_planet_flag = pdhive_lake }
		if = { limit = { is_planet_class = pc_tepid } set_planet_flag = pdhive_tepid }
		if = { limit = { is_planet_class = pc_wetswamp } set_planet_flag = pdhive_wetswamp }
		if = { limit = { is_planet_class = pc_fog } set_planet_flag = pdhive_fog }
		if = { limit = { is_planet_class = pc_subarctic } set_planet_flag = pdhive_subarctic }
		if = { limit = { is_planet_class = pc_desertislands } set_planet_flag = pdhive_desertislands }
		if = { limit = { is_planet_class = pc_mangrove } set_planet_flag = pdhive_mangrove }
		if = { limit = { is_planet_class = pc_hajungle } set_planet_flag = pdhive_hajungle }
		if = { limit = { is_planet_class = pc_cenote } set_planet_flag = pdhive_cenotee }
		#Dry
		if = { limit = { is_planet_class = pc_desert } set_planet_flag = pdhive_desert }
		if = { limit = { is_planet_class = pc_arid } set_planet_flag = pdhive_arid }
		if = { limit = { is_planet_class = pc_savannah } set_planet_flag = pdhive_savannah }
		if = { limit = { is_planet_class = pc_sandsea } set_planet_flag = pdhive_sandsea }
		if = { limit = { is_planet_class = pc_steppe } set_planet_flag = pdhive_steppe }
		if = { limit = { is_planet_class = pc_oasis } set_planet_flag = pdhive_oasis }
		if = { limit = { is_planet_class = pc_mesa } set_planet_flag = pdhive_mesa }
		if = { limit = { is_planet_class = pc_badlands } set_planet_flag = pdhive_badlands }
		if = { limit = { is_planet_class = pc_hadesert } set_planet_flag = pdhive_hadesert }
		if = { limit = { is_planet_class = pc_prairie } set_planet_flag = pdhive_prairie }
		if = { limit = { is_planet_class = pc_veld } set_planet_flag = pdhive_veld }
		if = { limit = { is_planet_class = pc_semiarid } set_planet_flag = pdhive_semiarid }
		if = { limit = { is_planet_class = pc_med } set_planet_flag = pdhive_med }
		if = { limit = { is_planet_class = pc_outback } set_planet_flag = pdhive_outback }
		if = { limit = { is_planet_class = pc_coastal } set_planet_flag = pdhive_coastal }
		#Cold
		if = { limit = { is_planet_class = pc_arctic } set_planet_flag = pdhive_arctic }
		if = { limit = { is_planet_class = pc_tundra } set_planet_flag = pdhive_tundra }
		if = { limit = { is_planet_class = pc_alpine } set_planet_flag = pdhive_alpine }
		if = { limit = { is_planet_class = pc_swamp } set_planet_flag = pdhive_swamp }
		if = { limit = { is_planet_class = pc_mud } set_planet_flag = pdhive_mud }
		if = { limit = { is_planet_class = pc_basalt } set_planet_flag = pdhive_basalt }
		if = { limit = { is_planet_class = pc_frozen_desert } set_planet_flag = pdhive_frozen_desert }
		if = { limit = { is_planet_class = pc_boreal } set_planet_flag = pdhive_boreal }
		if = { limit = { is_planet_class = pc_mushroom } set_planet_flag = pdhive_mushroom }
		if = { limit = { is_planet_class = pc_antarctic } set_planet_flag = pdhive_antarctic }
		if = { limit = { is_planet_class = pc_aeolian } set_planet_flag = pdhive_aeolian }
		if = { limit = { is_planet_class = pc_snow } set_planet_flag = pdhive_snow }
		if = { limit = { is_planet_class = pc_glacial } set_planet_flag = pdhive_glacial }
		if = { limit = { is_planet_class = pc_highland } set_planet_flag = pdhive_highland }
		if = { limit = { is_planet_class = pc_duneforest } set_planet_flag = pdhive_duneforest }
		#Rare
		if = { limit = { is_planet_class = pc_geothermal } set_planet_flag = pdhive_geothermal }
		if = { limit = { is_planet_class = pc_superhabitable } set_planet_flag = pdhive_superhabitable }
		if = { limit = { is_planet_class = pc_pd_dry_superhab } set_planet_flag = pdhive_drysuperhabitable }
		if = { limit = { is_planet_class = pc_pd_cold_superhab } set_planet_flag = pdhive_coldsuperhabitable }
		if = { limit = { is_planet_class = pc_tidallylocked } set_planet_flag = pdhive_tidallylocked }
		if = { limit = { is_planet_class = pc_wettidallylocked } set_planet_flag = pdhive_wettidallylocked }
		if = { limit = { is_planet_class = pc_supercon } set_planet_flag = pdhive_supercon }
		if = { limit = { is_planet_class = pc_pd_sinkhole } set_planet_flag = pdhive_sinkhole }
		if = { limit = { is_planet_class = pc_biolumen } set_planet_flag = pdhive_biolumen }
		if = { limit = { is_planet_class = pc_karst } set_planet_flag = pdhive_karst }
		if = { limit = { is_planet_class = pc_pd_cold_cave } set_planet_flag = pdhive_pd_cold_cave }
		if = { limit = { is_planet_class = pc_pd_dry_cave } set_planet_flag = pdhive_pd_dry_cave }
		if = { limit = { is_planet_class = pc_reef } set_planet_flag = pdhive_reef }
		if = { limit = { is_planet_class = pc_pd_archipelago } set_planet_flag = pdhive_archipelago }
		if = { limit = { is_planet_class = pc_primal } set_planet_flag = pdhive_primal }
		if = { limit = { is_planet_class = pc_aquatic } set_planet_flag = pdhive_aquatic }
		if = { limit = { is_planet_class = pc_salt } set_planet_flag = pdhive_salt }
		if = { limit = { is_planet_class = pc_aquifer } set_planet_flag = pdhive_aquifer }
		if = { limit = { is_planet_class = pc_coral } set_planet_flag = pdhive_coral }
		if = { limit = { is_planet_class = pc_storm } set_planet_flag = pdhive_storm }
		if = { limit = { is_planet_class = pc_pd_iceberg } set_planet_flag = pdhive_iceberg }
		if = { limit = { is_planet_class = pc_cryoflora } set_planet_flag = pdhive_cryoflora }
		if = { limit = { is_planet_class = pc_lichen } set_planet_flag = pdhive_lichen }
		if = { limit = { is_planet_class = pc_eyeball } set_planet_flag = pdhive_eyeball }
		if = { limit = { is_planet_class = pc_glacio } set_planet_flag = pdhive_glacio }
		if = { limit = { is_planet_class = pc_lanthanide } set_planet_flag = pdhive_lanthanide }
		if = { limit = { is_planet_class = pc_pd_petrified } set_planet_flag = pdhive_petrified }
		IF = { limit = { is_planet_class = pc_megaflora } set_planet_flag = pdhive_megaflora }
		IF = { limit = { is_planet_class = pc_megaflorahive } set_planet_flag = pdhive_megaflorahive }
		IF = { limit = { is_planet_class = pc_megaflorahivetl } set_planet_flag = pdhive_megaflorahivetl }
		IF = { limit = { is_planet_class = pc_megaflorahive_superhab } set_planet_flag = pdhive_megaflorahivesuperhab }
		IF = { limit = { is_planet_class = pc_megaflorahive_cave } set_planet_flag = pdhive_megaflorahivecave }
		#Exotic
		if = { limit = { is_planet_class = pc_ammonia } set_planet_flag = pdhive_ammonia }
		if = { limit = { is_planet_class = pc_sulfur } set_planet_flag = pdhive_sulfur }
		if = { limit = { is_planet_class = pc_acid } set_planet_flag = pdhive_acid }
		if = { limit = { is_planet_class = pc_methane } set_planet_flag = pdhive_methane }
		if = { limit = { is_planet_class = pc_pd_hycean } set_planet_flag = pdhive_hycean }
		if = { limit = { is_planet_class = pc_ash } set_planet_flag = pdhive_ash }
		if = { limit = { is_planet_class = pc_irradiated } set_planet_flag = pdhive_irradiated }
		if = { limit = { is_planet_class = pc_irradiated_cave } set_planet_flag = pdhive_irradiated_cave }
		if = { limit = { is_planet_class = pc_irradiated_superhab } set_planet_flag = pdhive_irradiated_superhab }
		if = { limit = { is_planet_class = pc_irradiated_tidal } set_planet_flag = pdhive_irradiated_tidal }
		#Unique
		if = { limit = { is_planet_class = pc_floating } set_planet_flag = pdhive_floating }
		if = { limit = { is_planet_class = pc_crystal } set_planet_flag = pdhive_crystal }
		if = { limit = { is_planet_class = pc_technoorganic } set_planet_flag = pdhive_technoorganic }
		if = { limit = { is_planet_class = pc_graveyard } set_planet_flag = pdhive_graveyard }
		IF = {
			limit = {
				planet_size <= 25
				planet_size >= 21
			}
			add_deposit = d_pdhive10
		}
		IF = {
			limit = {
				planet_size <= 20
				planet_size >= 16
			}
			add_deposit = d_pdhive8
		}
		IF = {
			limit = {
				planet_size <= 15
				planet_size >= 11
			}
			add_deposit = d_pdhive6
		}
		IF = {
			limit = {
				planet_size <= 10
			}
			add_deposit = d_pdhive4
		}
		pd_remove_special_deposits_modifiers = yes
		change_pc = pc_pdhive1
		set_planet_flag = pd_infesting2
		add_modifier = { modifier = pd_infestingplanet2 days = 7200 }
		planet_event = { id = pdengine.31 days = 7200 }
	}
}

#PD Change to infested Planet level 2
planet_event = {
	id = pdengine.31
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_hive }
		has_planet_flag = pd_infesting2
	}

	immediate = {
		if = { limit = { has_deposit = d_pdhive10 } remove_deposit = d_pdhive10 } #add_deposit = d_pdhive5 }
		if = { limit = { has_deposit = d_pdhive8 } remove_deposit = d_pdhive8 } #add_deposit = d_pdhive4 }
		if = { limit = { has_deposit = d_pdhive6 } remove_deposit = d_pdhive6 } #add_deposit = d_pdhive3 }
		if = { limit = { has_deposit = d_pdhive4 } remove_deposit = d_pdhive4 } #add_deposit = d_pdhive2 }
	change_pc = pc_pdhive2
	}
}

#Stop Infesting, kill the bugs
planet_event = {
	id = pdengine.32
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		owner = { has_origin = origin_pd_hive }
	}

	immediate = {
		remove_planet_flag = pd_infesting2
		remove_planet_flag = pd_infesting1
		remove_deposit = d_pdhive10
		remove_deposit = d_pdhive8
		remove_deposit = d_pdhive6
		remove_deposit = d_pdhive5
		remove_deposit = d_pdhive4
		remove_deposit = d_pdhive3
		remove_deposit = d_pdhive2
		remove_modifier = pd_infestingplanet
		remove_modifier = pd_infestingplanet2
		set_planet_flag = pd_restart_infesting
	}
}

#modify the modifier for lacking hive infestation
planet_event = {
	id = pdengine.33
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_hive }
				is_pd_hive_world = no
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_hive } }
				OR = {
				has_modifier = pd_infestingplanet
				has_modifier = pd_infestingplanet2
				has_planet_flag = pd_infesting2
				has_planet_flag = pd_infesting1
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				FROM = { has_origin = origin_pd_hive }
				is_under_colonization = no
				NOT = { has_planet_flag = pd_infesting1 }
				NOT = { has_planet_flag = pd_infesting2 }
			}
			planet_event = {
				id = pdengine.29
			}
			remove_planet_flag = pdremovehive
			remove_modifier = pdremovehive
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_hive } }
			}
			remove_planet_flag = pd_infesting2
			remove_planet_flag = pd_infesting1
			remove_modifier = pd_infestingplanet
			remove_modifier = pd_infestingplanet2
			add_modifier = {
				modifier = pdremovehive
				days = 3600
			}
			planet_event = {
				id = pdengine.63
				days = 3600
			}
			set_planet_flag = pdremovehive
		}
	}
}

#remove infestation if colony is destoryed
planet_event = {
	id = pdengine.34
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_hive }
				is_pd_hive_world = no
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_hive } }
				OR = {
				has_modifier = pd_infestingplanet
				has_modifier = pd_infestingplanet2
				has_planet_flag = pd_infesting2
				has_planet_flag = pd_infesting1
				}
			}
		}
	
	}

	immediate = {
		remove_planet_flag = pdremovehive
		remove_modifier = pdremovehive
		if = {
			limit = {
				FROM = { has_origin = origin_pd_hive }
				is_under_colonization = no
				NOT = { has_planet_flag = pd_infesting1 }
				NOT = { has_planet_flag = pd_infesting2 }
			}
			planet_event = {
				id = pdengine.29
			}
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_hive } }
			}
			remove_planet_flag = pd_infesting2
			remove_planet_flag = pd_infesting1
			remove_modifier = pd_infestingplanet
			remove_modifier = pd_infestingplanet2
			add_modifier = {
				modifier = pdremovehive
				days = 3600
			}
			planet_event = {
				id = pdengine.63
				days = 3600
			}
			set_planet_flag = pdremovehive
		}
	}
}

#turn back into normal world from infested
planet_event = {
	id = pdengine.63
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		has_planet_flag = pdremovehive
	}

	immediate = {
		#Wet
		if = { limit = { has_planet_flag = pdhive_continental } change_pc = pc_continental remove_planet_flag = pdhive_continental }
		if = { limit = { has_planet_flag = pdhive_tropical } change_pc = pc_tropical remove_planet_flag = pdhive_tropical }
		if = { limit = { has_planet_flag = pdhive_ocean } change_pc = pc_ocean remove_planet_flag = pdhive_ocean }
		if = { limit = { has_planet_flag = pdhive_cascadian } change_pc = pc_cascadian remove_planet_flag = pdhive_cascadian }
		if = { limit = { has_planet_flag = pdhive_retinal } change_pc = pc_retinal remove_planet_flag = pdhive_retinal }
		if = { limit = { has_planet_flag = pdhive_forest } change_pc = pc_forest remove_planet_flag = pdhive_forest }
		if = { limit = { has_planet_flag = pdhive_lake } change_pc = pc_lake remove_planet_flag = pdhive_lake }
		if = { limit = { has_planet_flag = pdhive_tepid } change_pc = pc_tepid remove_planet_flag = pdhive_tepid }
		if = { limit = { has_planet_flag = pdhive_wetswamp } change_pc = pc_wetswamp remove_planet_flag = pdhive_wetswamp }
		if = { limit = { has_planet_flag = pdhive_fog } change_pc = pc_fog remove_planet_flag = pdhive_fog }
		if = { limit = { has_planet_flag = pdhive_subarctic } change_pc = pc_subarctic remove_planet_flag = pdhive_subarctic }
		if = { limit = { has_planet_flag = pdhive_desertislands } change_pc = pc_desertislands remove_planet_flag = pdhive_desertislands }
		if = { limit = { has_planet_flag = pdhive_mangrove } change_pc = pc_mangrove remove_planet_flag = pdhive_mangrove }
		if = { limit = { has_planet_flag = pdhive_hajungle } change_pc = pc_hajungle remove_planet_flag = pdhive_hajungle }
		if = { limit = { has_planet_flag = pdhive_cenote } change_pc = pc_cenote remove_planet_flag = pdhive_cenote }
		if = { limit = { has_planet_flag = pdhive_petrified } change_pc = pc_pd_petrified remove_planet_flag = pdhive_petrified }
		#Dry
		if = { limit = { has_planet_flag = pdhive_desert } change_pc = pc_desert remove_planet_flag = pdhive_desert }
		if = { limit = { has_planet_flag = pdhive_arid } change_pc = pc_arid remove_planet_flag = pdhive_arid }
		if = { limit = { has_planet_flag = pdhive_savannah } change_pc = pc_savannah remove_planet_flag = pdhive_savannah }
		if = { limit = { has_planet_flag = pdhive_sandsea } change_pc = pc_sandsea remove_planet_flag = pdhive_sandsea }
		if = { limit = { has_planet_flag = pdhive_steppe } change_pc = pc_steppe remove_planet_flag = pdhive_steppe }
		if = { limit = { has_planet_flag = pdhive_oasis } change_pc = pc_oasis remove_planet_flag = pdhive_oasis }
		if = { limit = { has_planet_flag = pdhive_mesa } change_pc = pc_mesa remove_planet_flag = pdhive_mesa }
		if = { limit = { has_planet_flag = pdhive_badlands } change_pc = pc_badlands remove_planet_flag = pdhive_badlands }
		if = { limit = { has_planet_flag = pdhive_hadesert } change_pc = pc_hadesert remove_planet_flag = pdhive_hadesert }
		if = { limit = { has_planet_flag = pdhive_prairie } change_pc = pc_prairie remove_planet_flag = pdhive_prairie }
		if = { limit = { has_planet_flag = pdhive_veld } change_pc = pc_veld remove_planet_flag = pdhive_veld }
		if = { limit = { has_planet_flag = pdhive_semiarid } change_pc = pc_semiarid remove_planet_flag = pdhive_semiarid }
		if = { limit = { has_planet_flag = pdhive_med } change_pc = pc_med remove_planet_flag = pdhive_med }
		if = { limit = { has_planet_flag = pdhive_outback } change_pc = pc_outback remove_planet_flag = pdhive_outback }
		if = { limit = { has_planet_flag = pdhive_coastal } change_pc = pc_coastal remove_planet_flag = pdhive_coastal }
		#Cold
		if = { limit = { has_planet_flag = pdhive_arctic } change_pc = pc_arctic remove_planet_flag = pdhive_arctic }
		if = { limit = { has_planet_flag = pdhive_tundra } change_pc = pc_tundra remove_planet_flag = pdhive_tundra }
		if = { limit = { has_planet_flag = pdhive_alpine } change_pc = pc_alpine remove_planet_flag = pdhive_alpine }
		if = { limit = { has_planet_flag = pdhive_swamp } change_pc = pc_swamp remove_planet_flag = pdhive_swamp }
		if = { limit = { has_planet_flag = pdhive_mud } change_pc = pc_mud remove_planet_flag = pdhive_mud }
		if = { limit = { has_planet_flag = pdhive_basalt } change_pc = pc_basalt remove_planet_flag = pdhive_basalt }
		if = { limit = { has_planet_flag = pdhive_frozen_desert } change_pc = pc_frozen_desert remove_planet_flag = pdhive_frozen_desert }
		if = { limit = { has_planet_flag = pdhive_boreal } change_pc = pc_boreal remove_planet_flag = pdhive_boreal }
		if = { limit = { has_planet_flag = pdhive_mushroom } change_pc = pc_mushroom remove_planet_flag = pdhive_mushroom }
		if = { limit = { has_planet_flag = pdhive_antarctic } change_pc = pc_antarctic remove_planet_flag = pdhive_antarctic }
		if = { limit = { has_planet_flag = pdhive_aeolian } change_pc = pc_aeolian remove_planet_flag = pdhive_aeolian }
		if = { limit = { has_planet_flag = pdhive_snow } change_pc = pc_snow remove_planet_flag = pdhive_snow }
		if = { limit = { has_planet_flag = pdhive_glacial } change_pc = pc_glacial remove_planet_flag = pdhive_glacial }
		if = { limit = { has_planet_flag = pdhive_highland } change_pc = pc_highland remove_planet_flag = pdhive_highland }
		if = { limit = { has_planet_flag = pdhive_duneforest } change_pc = pc_duneforest remove_planet_flag = pdhive_duneforest }
		#Rare
		if = { limit = { has_planet_flag = pdhive_geothermal } change_pc = pc_geothermal remove_planet_flag = pdhive_geothermal }
		if = { limit = { has_planet_flag = pdhive_superhabitable } change_pc = pc_superhabitable remove_planet_flag = pdhive_superhabitable }
		if = { limit = { has_planet_flag = pdhive_drysuperhabitable } change_pc = pc_pd_dry_superhab remove_planet_flag = pdhive_drysuperhabitable }
		if = { limit = { has_planet_flag = pdhive_coldsuperhabitable } change_pc = pc_pd_cold_superhab remove_planet_flag = pdhive_coldsuperhabitable }
		if = { limit = { has_planet_flag = pdhive_tidallylocked } change_pc = pc_tidallylocked remove_planet_flag = pdhive_tidallylocked }
		if = { limit = { has_planet_flag = pdhive_wettidallylocked } change_pc = pc_wettidallylocked remove_planet_flag = pdhive_wettidallylocked }
		if = { limit = { has_planet_flag = pdhive_supercon } change_pc = pc_supercon remove_planet_flag = pdhive_supercon }
		if = { limit = { has_planet_flag = pdhive_sinkhole } change_pc = pc_pd_sinkhole remove_planet_flag = pdhive_sinkhole }
		if = { limit = { has_planet_flag = pdhive_biolumen } change_pc = pc_biolumen remove_planet_flag = pdhive_biolumen }
		if = { limit = { has_planet_flag = pdhive_karst } change_pc = pc_karst remove_planet_flag = pdhive_karst }
		if = { limit = { has_planet_flag = pdhive_pd_cold_cave } change_pc = pc_pd_cold_cave remove_planet_flag = pdhive_pd_cold_cave }
		if = { limit = { has_planet_flag = pdhive_pd_dry_cave } change_pc = pc_pd_dry_cave remove_planet_flag = pdhive_pd_dry_cave }
		if = { limit = { has_planet_flag = pdhive_reef } change_pc = pc_reef remove_planet_flag = pdhive_reef }
		if = { limit = { has_planet_flag = pdhive_archipelago } change_pc = pc_pd_archipelago remove_planet_flag = pdhive_archipelago }
		if = { limit = { has_planet_flag = pdhive_primal } change_pc = pc_primal remove_planet_flag = pdhive_primal }
		if = { limit = { has_planet_flag = pdhive_aquatic } change_pc = pc_aquatic remove_planet_flag = pdhive_aquatic }
		if = { limit = { has_planet_flag = pdhive_salt } change_pc = pc_salt remove_planet_flag = pdhive_salt }
		if = { limit = { has_planet_flag = pdhive_aquifer } change_pc = pc_aquifer remove_planet_flag = pdhive_aquifer }
		if = { limit = { has_planet_flag = pdhive_coral } change_pc = pc_coral remove_planet_flag = pdhive_coral }
		if = { limit = { has_planet_flag = pdhive_storm } change_pc = pc_storm remove_planet_flag = pdhive_storm }
		if = { limit = { has_planet_flag = pdhive_iceberg } change_pc = pc_pd_iceberg remove_planet_flag = pdhive_iceberg }
		if = { limit = { has_planet_flag = pdhive_cryoflora } change_pc = pc_cryoflora remove_planet_flag = pdhive_cryoflora }
		if = { limit = { has_planet_flag = pdhive_lichen } change_pc = pc_lichen remove_planet_flag = pdhive_lichen }
		if = { limit = { has_planet_flag = pdhive_eyeball } change_pc = pc_eyeball remove_planet_flag = pdhive_eyeball }
		if = { limit = { has_planet_flag = pdhive_glacio } change_pc = pc_glacio remove_planet_flag = pdhive_glacio }
		if = { limit = { has_planet_flag = pdhive_lanthanide } change_pc = pc_lanthanide remove_planet_flag = pdhive_lanthanide }
		#Exotic
		if = { limit = { has_planet_flag = pdhive_ammonia } change_pc = pc_ammonia remove_planet_flag = pdhive_ammonia }
		if = { limit = { has_planet_flag = pdhive_sulfur } change_pc = pc_sulfur remove_planet_flag = pdhive_sulfur }
		if = { limit = { has_planet_flag = pdhive_acid } change_pc = pc_acid remove_planet_flag = pdhive_acid }
		if = { limit = { has_planet_flag = pdhive_methane } change_pc = pc_methane remove_planet_flag = pdhive_methane }
		if = { limit = { has_planet_flag = pdhive_hycean } change_pc = pc_pd_hycean remove_planet_flag = pdhive_hycean }
		if = { limit = { has_planet_flag = pdhive_ash } change_pc = pc_ash remove_planet_flag = pdhive_ash }
		if = { limit = { has_planet_flag = pdhive_irradiated } change_pc = pc_irradiated remove_planet_flag = pdhive_irradiated }
		if = { limit = { has_planet_flag = pdhive_irradiated_cave } change_pc = pc_irradiated_cave remove_planet_flag = pdhive_irradiated_cave }
		if = { limit = { has_planet_flag = pdhive_irradiated_superhab } change_pc = pc_irradiated_superhab remove_planet_flag = pdhive_irradiated_superhab }
		if = { limit = { has_planet_flag = pdhive_irradiated_tidal } change_pc = pc_irradiated_tidal remove_planet_flag = pdhive_irradiated_tidal }
		#Unique
		if = { limit = { has_planet_flag = pdhive_floating } change_pc = pc_floating remove_planet_flag = pdhive_floating }
		if = { limit = { has_planet_flag = pdhive_crystal } change_pc = pc_crystal remove_planet_flag = pdhive_crystal }
		if = { limit = { has_planet_flag = pdhive_technoorganic } change_pc = pc_technoorganic remove_planet_flag = pdhive_technoorganic }
		if = { limit = { has_planet_flag = pdhive_graveyard } change_pc = pc_graveyard remove_planet_flag = pdhive_graveyard }
		reroll_planet = yes 
		remove_deposit = d_pdhive2
		remove_deposit = d_pdhive3
		remove_deposit = d_pdhive4
		remove_deposit = d_pdhive5
		remove_deposit = d_pdhive6
		remove_deposit = d_pdhive8
		remove_deposit = d_pdhive10
		clear_blockers = yes
		if = { 
			limit = { has_planet_flag = planet_earth } 
			set_planet_entity = { entity = continental_planet_earth_entity }
			#clear_deposits = yes
			#generate_earth_deposits_and_blockers = yes
			#clear_blockers = yes
			#clear_planet_modifiers = yes
		}
		remove_planet_flag = pdremovehive
		remove_planet_flag = pd_restart_infesting
	}
}

#PD Tree of Life

#Add ToL to new colonies
planet_event = {
	id = pdengine.35
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_pd_tree_of_life
		}
	}

	immediate = {
		IF = {
			limit = { 
				is_pd_machine = no
				NOT = { has_planet_flag = pd_tol1 }
				NOT = { has_planet_flag = pd_tol2 }
				NOT = { has_planet_flag = pd_tol3 }
				NOT = { is_artificial = yes }
				NOT = { is_pd_habitat = yes }
				NOT = { is_planet_class = pc_ecocity }
				NOT = { is_planet_class = pc_corpoarc }
				NOT = { is_planet_class = pc_palacearc }
				NOT = { is_planet_class = pc_capitalarc }
				NOT = { is_planet_class = pc_necropolis }
				NOT = { is_planet_class = pc_necrohive }
				NOT = { is_planet_class = pc_relic }
				NOT = { is_planet_class = pc_nuked_relic }
				NOT = { is_planet_class = pc_milarc_relic }
				NOT = { is_planet_class = pc_city }
				NOT = { is_planet_class = pc_floating }
				NOT = { is_planet_class = pc_pd_scrapyard }
				NOT = { is_planet_class = pc_crucible }
				NOT = { is_planet_class = pc_shroud_crucible }
				NOT = { is_planet_class = pc_clean_crucible }
				NOT = { is_planet_class = pc_crystal }
				NOT = { is_planet_class = pc_technoorganic }
				NOT = { is_planet_class = pc_graveyard }
				is_acot_unique_planet_class = no
			 }
		add_deposit = d_pd_tree_of_life_1
		}
		ELSE_IF = {
			limit = { 
				is_artificial = yes
				is_pd_habitat = yes
				NOT = { is_planet_class = pc_ringworld_habitable }
			 }
		add_deposit = d_pd_tree_of_life_habitat
		set_planet_flag = pd_tolx
		}
		ELSE_IF = {
			limit = { 
				is_planet_class = pc_ringworld_habitable
			 }
		add_deposit = d_pd_tree_of_life_ringworld
		set_planet_flag = pd_tolx
		}
		ELSE_IF = {
			limit = { 
				OR = {
				is_planet_class = pc_ecocity
				is_planet_class = pc_corpoarc
				is_planet_class = pc_necropolis
				is_planet_class = pc_machine_necropolis
				is_planet_class = pc_necrohive
				is_planet_class = pc_relic
				is_planet_class = pc_nuked_relic
				is_planet_class = pc_milarc_relic
				is_planet_class = pc_city
				is_planet_class = pc_palacearc
				is_planet_class = pc_capitalarc
				is_planet_class = pc_floating
				is_planet_class = pc_pd_scrapyard
				is_planet_class = pc_crucible
				is_planet_class = pc_shroud_crucible
				is_planet_class = pc_clean_crucible
				is_planet_class = pc_crystal
				is_planet_class = pc_technoorganic
				is_planet_class = pc_graveyard
				is_planet_class = pc_wettidallylocked
				is_planet_class = pc_eyeball
				is_planet_class = pc_tidallylocked
				}
			 }
		add_deposit = d_pd_tree_of_life_special
		set_planet_flag = pd_tolx
		}
		remove_modifier = no_pd_lifetree #as the planet transfer events fire before this
	}
}

#Tree destroyed (oh no!)
#silently kill tree
planet_event = {
	id = pdengine.36
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		AND = {
			owner = { NOT = { has_origin = origin_pd_tree_of_life } }
				OR = {
					has_planet_flag = pd_tol1
					has_planet_flag = pd_tol2
					has_planet_flag = pd_tol3
					has_planet_flag = pd_tolx
			}
		}
	}

	immediate = {
			remove_planet_flag = pd_tol1
			remove_planet_flag = pd_tol2
			remove_planet_flag = pd_tol3
			remove_planet_flag = pd_tolx
			remove_deposit = d_pd_tree_of_life_1
			remove_deposit = d_pd_tree_of_life_2
			remove_deposit = d_pd_tree_of_life_3
			remove_deposit = d_pd_tree_of_life_habitat
			remove_deposit = d_pd_tree_of_life_ringworld
			remove_deposit = d_pd_tree_of_life_special
			remove_deposit = d_tol_sap
			remove_modifier = pdmegaflora
			if = {
				limit = { is_planet_class = pc_megafloratol }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megafloraforge }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megafloracapital }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megaflora }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megaflorahive }
				change_pc = pc_forest
			}
			if = {
				limit = { is_planet_class = pc_megaflorahivetl }
				change_pc = pc_wettidallylocked
			}
			if = {
				limit = { is_planet_class = pc_megaflorahive_superhab }
				change_pc = pc_superhabitable
			}
			if = {
				limit = { is_planet_class = pc_megaflorahive_cave }
				change_pc = pc_karst
			}
			add_deposit = d_pd_tree_of_life_dead
			add_modifier = {
				modifier = no_pd_lifetree
				days = -1
			}
	}
}

#informatively kill tree
planet_event = {
	id = pdengine.37
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		planet_devastation >= 50
		OR = {
			has_deposit = d_pd_tree_of_life_1
			has_deposit = d_pd_tree_of_life_2
			has_deposit = d_pd_tree_of_life_3
		}
	}
	
	immediate = {
		remove_deposit = d_pd_tree_of_life_1
		remove_deposit = d_pd_tree_of_life_2
		remove_deposit = d_pd_tree_of_life_3
		remove_deposit = d_tol_sap
		remove_modifier = pdmegaflora
		if = {
			limit = { is_planet_class = pc_megafloraforge }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megafloracapital }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megafloratol }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflora }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflorahive }
			change_pc = pc_forest
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflorahivetl }
			change_pc = pc_wettidallylocked
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflorahive_superhab }
			change_pc = pc_superhabitable
			add_deposit = d_pd_tree_of_life_dead
		}
		if = {
			limit = { is_planet_class = pc_megaflorahive_cave }
			change_pc = pc_karst
			add_deposit = d_pd_tree_of_life_dead
		}
	}

	#option = {
	#	name = UNFORTUNATE
	#	add_modifier = { modifier = no_pd_lifetree }
	#}
}

#modify the modifier for lacking Tree
planet_event = {
	id = pdengine.38
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		NOT = { days_passed < 1 }
		OR = {
			AND = {
				FROM = { has_origin = origin_pd_tree_of_life }
				NOR = {
					has_deposit = d_pd_tree_of_life_1
					has_deposit = d_pd_tree_of_life_2
					has_deposit = d_pd_tree_of_life_3
				}
			}
			AND = { 
				FROM = { NOT = { has_origin = origin_pd_tree_of_life } }
				has_modifier = no_pd_lifetree
			}
		}
	
	}

	immediate = {
		if = {
			limit = {
				FROM = { has_origin = origin_pd_tree_of_life }
				NOR = {
					has_deposit = d_pd_tree_of_life_1
					has_deposit = d_pd_tree_of_life_2
					has_deposit = d_pd_tree_of_life_3
				}
			}
			add_modifier = { modifier = no_pd_lifetree }
		}
		if = {
			limit = {
				FROM = { NOT = { has_origin = origin_pd_tree_of_life } }
			}
			remove_modifier = no_pd_lifetree
		}
	}
}

#PD Hidden Tree Growth
planet_event = {
	id = pdengine.39
	hide_window = yes
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		NOT = { has_planet_flag = pd_tol1 }
		NOT = { has_planet_flag = pd_tol2 }
		NOT = { has_planet_flag = pd_tol3 }
		NOT = { is_artificial = yes }
		NOT = { is_pd_habitat = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_machinetidallylocked }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_nuked_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_floating }
		NOT = { is_planet_class = pc_pd_scrapyard }
		NOT = { is_planet_class = pc_crystal }
		NOT = { is_planet_class = pc_technoorganic }
		NOT = { is_planet_class = pc_graveyard }
		NOT = { is_planet_class = pc_shroud_crucible }
		NOT = { is_planet_class = pc_crucible }
		NOT = { is_planet_class = pc_clean_crucible }
		is_acot_unique_planet_class = no
	}

	immediate = {
		set_planet_flag = pd_tol1	
		IF = {
			limit = { owner = { NOT = { has_technology = tech_pdtoltech } } }
			planet_event = { id = pdengine.40 days = 5400 random = 5400 }
		}
		IF = {
			limit = { owner = { has_technology = tech_pdtoltech } }
			planet_event = { id = pdengine.40 days = 3600 random = 3600 }
		}
	}
}

#PD Change TOL change to megaflora
planet_event = {
	id = pdengine.40
	title = pdengine.40.name
	desc = pdengine.40.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		has_planet_flag = pd_tol1
		NOT = { is_artificial = yes }
		NOT = { is_pd_habitat = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_machinetidallylocked }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_nuked_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_floating }
		NOT = { is_planet_class = pc_pd_scrapyard }
		NOT = { is_planet_class = pc_crystal }
		NOT = { is_planet_class = pc_technoorganic }
		NOT = { is_planet_class = pc_graveyard }
		NOT = { is_planet_class = pc_shroud_crucible }
		NOT = { is_planet_class = pc_crucible }
		NOT = { is_planet_class = pc_clean_crucible }
	}

	immediate = {
		IF = {
			limit = {
				is_pd_superhab = no
				is_pd_tidally_locked = no
				is_pd_cave = no
			}
			change_pc = pc_megaflorahive
		}
		IF = {
			limit = {
				is_pd_tidally_locked = yes
			}
			change_pc = pc_megaflorahivetl
		}
		IF = {
			limit = {
				is_pd_superhab = yes
			}
			change_pc = pc_megaflorahive_superhab
		}
		IF = {
			limit = {
				is_pd_cave = yes
			}
			change_pc = pc_megaflorahive_cave
		}
		pd_remove_special_deposits_modifiers = yes
		remove_planet_flag = pd_tol1
		set_planet_flag = pd_tol2
		add_modifier = { modifier = pdmegaflora }
		remove_deposit = d_pd_tree_of_life_1
		add_deposit = d_pd_tree_of_life_2
		IF = {
			limit = { owner = { NOT = { has_technology = tech_pdtoltech } } }
			planet_event = { id = pdengine.41 days = 18000 random = 18000 }
		}
		IF = {
			limit = { owner = { has_technology = tech_pdtoltech } }
			planet_event = { id = pdengine.41 days = 9000 random = 9000 }
		}
	}

	option = {
		name = pdengine.40.a
	}
}

#PD Change TOL change to megaflora TOL
planet_event = {
	id = pdengine.41
	title = pdengine.41.name
	desc = pdengine.41.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_pd_tree_of_life }
		has_planet_flag = pd_tol2
		NOT = { is_artificial = yes }
		NOT = { is_pd_habitat = yes }
		NOT = { is_planet_class = pc_ecocity }
		NOT = { is_planet_class = pc_corpoarc }
		NOT = { is_planet_class = pc_palacearc }
		NOT = { is_planet_class = pc_capitalarc }
		NOT = { is_planet_class = pc_necropolis }
		NOT = { is_planet_class = pc_machine_necropolis }
		NOT = { is_planet_class = pc_machinetidallylocked }
		NOT = { is_planet_class = pc_necrohive }
		NOT = { is_planet_class = pc_relic }
		NOT = { is_planet_class = pc_nuked_relic }
		NOT = { is_planet_class = pc_milarc_relic }
		NOT = { is_planet_class = pc_city }
		NOT = { is_planet_class = pc_megaflorahivetl }
		NOT = { is_planet_class = pc_megaflorahive_superhab }
		is_acot_unique_planet_class = no
	}

	immediate = {
		change_pc = pc_megafloratol
		remove_planet_flag = pd_tol2
		set_planet_flag = pd_tol3
		add_deposit = d_tol_sap
		remove_deposit = d_pd_tree_of_life_2
		add_deposit = d_pd_tree_of_life_3
		remove_modifier = bleak_planet
		remove_modifier = irradiated_planet
		remove_modifier = hazardous_weather
		remove_modifier = dangerous_wildlife
		remove_modifier = wild_storms
	}

	option = {
		name = pdengine.41.a
	}
}

#PD Tree Hidden Event Start
planet_event = {
	id = pdengine.42
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_pd_tree_of_life }
		}
	}

	immediate = {
		planet_event = { id = pdengine.41 days = 7200 random = 7200 } #test 7200 - 3600
		set_planet_flag = pd_tol2
	}
}

#Exotic Ringworld Start
planet_event = {
	id = pdengine.43
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_shattered_ring }
	}

	immediate = {
		if = {
			limit = { owner = { has_trait = trait_pc_ammonia_preference } }
			set_planet_entity = { picture = pc_ammoniaring entity = ammoniaring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdammoniaatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_sulfur_preference } }
			set_planet_entity = { picture = pc_sulfurring entity = sulfurring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdsulfuratmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_methane_preference } }
			set_planet_entity = { picture = pc_methanering entity = methanering_habitable_entity_01_entity }	
			add_modifier = { modifier = pdmethaneatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_ash_preference } }
			set_planet_entity = { picture = pc_ashring entity = ashring_habitable_entity_01_entity }	
			add_modifier = { modifier = pdashatmosphere days = -1 }	
		}
	}
}

#Remove Habitat Districts + Flags
planet_event = {
	id = pdengine.44
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		AND = {
			OR = {
				is_pd_habitat = yes
				has_planet_flag = pd_energy_hab
				has_planet_flag = pd_mining_hab
				has_planet_flag = pd_farming_hab
				has_planet_flag = pd_foundry_hab
				has_planet_flag = pd_science_hab
				has_planet_flag = pd_commercial_hab
				has_planet_flag = pdhab
			}
		}
	}

	immediate = {
		remove_planet_flag = pd_energy_hab
		remove_planet_flag = pd_mining_hab
		remove_planet_flag = pd_farming_hab
		remove_planet_flag = pd_foundry_hab
		remove_planet_flag = pd_science_hab
		remove_planet_flag = pd_commercial_hab
		remove_planet_flag = pd_hab_d1
		remove_planet_flag = pd_hab_d2
		remove_planet_flag = pdhab
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_commercial
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_cultural
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
		remove_district = district_pdhab_science
	}
}

country_event = {
	id = pdengine.45
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_barren_cold
				NOR = { 
					has_modifier = terraforming_candidate 
					has_planet_flag = pd_special_uninhabitable
				}	
				solar_system = { NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster } }
			}	
			random_list = {
				3 = {  
					set_planet_entity = {
						picture = pc_diamond
						entity = "diamond_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_diamond
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_rare_crystals_5 }
						10 = { add_deposit = d_rare_crystals_4 }
						20 = { add_deposit = d_rare_crystals_3 }
						20 = { add_deposit = d_rare_crystals_2 }
						40 = { add_deposit = d_rare_crystals_1 }
					}
				}
				97 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_barren
				NOR = { 
					has_modifier = terraforming_candidate 
					has_planet_flag = pd_special_uninhabitable
				}	
				solar_system = { NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster } }
			}	
			random_list = {
				2 = { 
					set_planet_entity = {
						picture = pc_carbon
						entity = "carbon_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_carbon
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_minerals_5 }
						10 = { add_deposit = d_minerals_4 }
						10 = { add_deposit = d_minerals_3 }
						20 = { add_deposit = d_minerals_2 }
						25 = { add_deposit = d_minerals_1 }
					}
					random_list = {
						10 = { add_deposit = d_minerals_5 }
						10 = { add_deposit = d_minerals_4 }
						10 = { add_deposit = d_minerals_3 }
						20 = { add_deposit = d_minerals_2 }
						25 = { add_deposit = d_minerals_1 }
					}
				}
				98 = { }	
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				not = { 
					OR = {
						has_planet_flag = hoard_planet
						has_modifier = terraforming_candidate 
						is_moon = yes
						has_planet_flag = pd_special_uninhabitable
					}
				}	
				solar_system = { NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					NOT = { has_star_flag = empire_home_system }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					set_planet_entity = {
						picture = pc_chthonian
						entity = "chthonian_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_chthonian
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				NOR = { 
					has_planet_flag = hoard_planet
					has_modifier = terraforming_candidate 
					is_moon = yes
					has_planet_flag = pd_special_uninhabitable
				}	
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					set_planet_entity = {
						picture = pc_iron
						entity = "iron_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_iron
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
				}
				85 = { }
			}	
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				is_moon = yes
				NOR = { 
					has_planet_flag = hoard_planet
					has_modifier = terraforming_candidate
					has_planet_flag = pd_special_uninhabitable  
				}
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					set_planet_entity = {
						picture = pc_volcanic
						entity = "volcanic_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_volcanic
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
					random_list = {
						5 = { add_deposit = d_alloys_5 }
						5 = { add_deposit = d_alloys_4 }
						20 = { add_deposit = d_alloys_3 }
						30 = { add_deposit = d_alloys_2 }
						40 = { add_deposit = d_alloys_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_frozen
				is_moon = yes
				NOR = {
					has_modifier = terraforming_candidate
					has_planet_flag = pd_special_uninhabitable	
				}
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					set_planet_entity = {
						picture = pc_hydrocarbon
						entity = "hydrocarbon_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_hydrocarbon
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_energy_5 }
						10 = { add_deposit = d_energy_4 }
						10 = { add_deposit = d_energy_3 }
						20 = { add_deposit = d_energy_2 }
						25 = { add_deposit = d_energy_1 }
					}
					random_list = {
						10 = { add_deposit = d_energy_5 }
						10 = { add_deposit = d_energy_4 }
						10 = { add_deposit = d_energy_3 }
						20 = { add_deposit = d_energy_2 }
						25 = { add_deposit = d_energy_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_frozen
				NOT = { has_planet_flag = pd_special_uninhabitable }
				is_moon = yes
				not = { has_modifier = terraforming_candidate }
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
							is_star_class = sc_k
						}
					}
				}
			}	
			random_list = {
				15 = {
					set_planet_entity = {
						picture = pc_subglacial
						entity = "subglacial_planet_01_entity"
					}
					add_modifier = {
						modifier = pdhabsubglacialocean
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_physics_5 }
						10 = { add_deposit = d_physics_4 }
						10 = { add_deposit = d_physics_3 }
						20 = { add_deposit = d_physics_2 }
						25 = { add_deposit = d_physics_1 }
					}
					random_list = {
						10 = { add_deposit = d_society_5 }
						10 = { add_deposit = d_society_4 }
						10 = { add_deposit = d_society_3 }
						20 = { add_deposit = d_society_2 }
						25 = { add_deposit = d_society_1 }
					}
				}
				85 = { }
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				NOT = { has_moon = yes }
				NOT = { is_moon = yes }
				NOT = { has_planet_flag = hoard_planet }
				NOT = { has_planet_flag = pd_special_uninhabitable }
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
						}
					}
				}
			}	
			random_list = {
				50 = { 
					set_planet_entity = {
						picture = pc_hot_gas_giant
						entity = "hot_gas_giant_01_entity"
					}
					add_modifier = {
						modifier = pd_hot_gas_giant
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_exotic_gases_5 }
						10 = { add_deposit = d_exotic_gases_4 }
						20 = { add_deposit = d_exotic_gases_3 }
						20 = { add_deposit = d_exotic_gases_2 }
						40 = { add_deposit = d_exotic_gases_1 }
					}
				}
				50 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_molten
				NOT = { has_moon = yes }
				NOT = { is_moon = yes }
				NOT = {	has_planet_flag = hoard_planet }
				NOT = { has_planet_flag = pd_special_uninhabitable }
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
					star = {
						OR = {
							is_star_class = sc_a
							is_star_class = sc_b
							is_star_class = sc_f
						}
					}
				}
			}	
			random_list = {
				40 = { 
					set_planet_entity = {
						picture = pc_cloudless_gas_giant
						entity = "cloudless_gas_giant_01_entity"
					}
					add_modifier = {
						modifier = pd_cloudless_gas_giant
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_society_5 }
						10 = { add_deposit = d_society_4 }
						10 = { add_deposit = d_society_3 }
						20 = { add_deposit = d_society_2 }
						25 = { add_deposit = d_society_1 }
					}
					random_list = {
						10 = { add_deposit = d_engineering_5 }
						10 = { add_deposit = d_engineering_4 }
						10 = { add_deposit = d_engineering_3 }
						20 = { add_deposit = d_engineering_2 }
						25 = { add_deposit = d_engineering_1 }
					}
				}
				60 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_gas_giant
				NOT = { has_planet_flag = pd_special_uninhabitable }
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster } 
					star = {
						OR = {
							is_star_class = sc_m
							is_star_class = sc_m_giant
							is_star_class = sc_k
							is_star_class = sc_g
						}
					}
				}
			}	
			random_list = {
				10 = { 
					set_planet_entity = {
						picture = pc_cold_gas_giant
						entity = "cold_gas_giant_01_entity"
					}
					add_modifier = {
						modifier = pd_cold_gas_giant
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_physics_5 }
						10 = { add_deposit = d_physics_4 }
						10 = { add_deposit = d_physics_3 }
						20 = { add_deposit = d_physics_2 }
						25 = { add_deposit = d_physics_1 }
					}
					random_list = {
						10 = { add_deposit = d_engineering_5 }
						10 = { add_deposit = d_engineering_4 }
						10 = { add_deposit = d_engineering_3 }
						20 = { add_deposit = d_engineering_2 }
						25 = { add_deposit = d_engineering_1 }
					}
				}
				90 = { } 
			}
		}
		every_galaxy_planet = { 
			limit = { 
				is_planet_class = pc_toxic
				NOT = { has_planet_flag = pd_special_uninhabitable }
				solar_system = { 
					NOR = { has_star_flag = empire_home_system has_star_flag = empire_cluster }
				}
			}	
			random_list = {
				10 = {
					set_planet_entity = {
						picture = pc_ethane_ocean
						entity = "ethane_ocean_planet_01_entity"
					}
					add_modifier = {
						modifier = pd_ethane_ocean
						days = -1
					}
					set_planet_flag = pd_special_uninhabitable
					this = { clear_deposits = yes }
					random_list = {
						10 = { add_deposit = d_volatile_motes_5 }
						10 = { add_deposit = d_volatile_motes_4 }
						20 = { add_deposit = d_volatile_motes_3 }
						20 = { add_deposit = d_volatile_motes_2 }
						40 = { add_deposit = d_volatile_motes_1 }
					}
				}
				90 = { } 
			}
		}
	}
}

#Lost Colony PD Rare Fix
country_event = {
	id = pdengine.46
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_galaxy_planet = { 
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_salt
				}
				random_list = {
					20 = { change_pc = pc_desert }
					20 = { change_pc = pc_sandsea }
					20 = { change_pc = pc_outback }
					20 = { change_pc = pc_coastal }
					20 = { change_pc = pc_oasis }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_aquifer
				}
				random_list = {
					20 = { change_pc = pc_desert }
					20 = { change_pc = pc_sandsea }
					20 = { change_pc = pc_outback }
					20 = { change_pc = pc_coastal }
					20 = { change_pc = pc_oasis }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_superhabitable
				}
				random_list = {
					20 = { change_pc = pc_continental	reroll_planet = yes	}		
					20 = { change_pc = pc_forest reroll_planet = yes }		
					20 = { change_pc = pc_retinal reroll_planet = yes }		
					20 = { change_pc = pc_lake reroll_planet = yes }	
					20 = { change_pc = pc_tepid reroll_planet = yes }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_geothermal
				}
				random_list = {
					20 = { change_pc = pc_tropical }
					20 = { change_pc = pc_hajungle }
					20 = { change_pc = pc_cenote }
					20 = { change_pc = pc_mangrove }
					20 = { change_pc = pc_desertislands }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_biolumen
				}
				random_list = {
					20 = { change_pc = pc_tropical }
					20 = { change_pc = pc_hajungle }
					20 = { change_pc = pc_cenote }
					20 = { change_pc = pc_mangrove }
					20 = { change_pc = pc_desertislands }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_karst
				}
				random_list = {
					20 = { change_pc = pc_ocean }
					20 = { change_pc = pc_cascadian }
					20 = { change_pc = pc_wetswamp }
					20 = { change_pc = pc_fog }
					20 = { change_pc = pc_subarctic }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_cold_cave
				}
				random_list = {
					20 = { change_pc = pc_alpine }
					20 = { change_pc = pc_boreal }
					20 = { change_pc = pc_highland }
					20 = { change_pc = pc_snow }
					20 = { change_pc = pc_duneforest }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_dry_cave
				}
				random_list = {
					20 = { change_pc = pc_desert }
					20 = { change_pc = pc_sandsea }
					20 = { change_pc = pc_outback }
					20 = { change_pc = pc_coastal }
					20 = { change_pc = pc_oasis }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_reef
				}
				random_list = {
					20 = { change_pc = pc_ocean }
					20 = { change_pc = pc_cascadian }
					20 = { change_pc = pc_wetswamp }
					20 = { change_pc = pc_fog }
					20 = { change_pc = pc_subarctic }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_archipelago
				}
				random_list = {
					20 = { change_pc = pc_ocean }
					20 = { change_pc = pc_cascadian }
					20 = { change_pc = pc_wetswamp }
					20 = { change_pc = pc_fog }
					20 = { change_pc = pc_subarctic }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_megaflora
				}
				random_list = {
					20 = { change_pc = pc_continental	reroll_planet = yes	}		
					20 = { change_pc = pc_forest reroll_planet = yes }		
					20 = { change_pc = pc_retinal reroll_planet = yes }		
					20 = { change_pc = pc_lake reroll_planet = yes }	
					20 = { change_pc = pc_tepid reroll_planet = yes }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_petrified
				}
				random_list = {
					20 = { change_pc = pc_continental	reroll_planet = yes	}		
					20 = { change_pc = pc_forest reroll_planet = yes }		
					20 = { change_pc = pc_retinal reroll_planet = yes }		
					20 = { change_pc = pc_lake reroll_planet = yes }	
					20 = { change_pc = pc_tepid reroll_planet = yes }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_aquatic
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_primal
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_tidallylocked
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_wettidallylocked
				}
				random_list = {
					20 = { change_pc = pc_tropical }
					20 = { change_pc = pc_hajungle }
					20 = { change_pc = pc_cenote }
					20 = { change_pc = pc_mangrove }
					20 = { change_pc = pc_desertislands }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_supercon
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_sinkhole
				}
				random_list = {
					20 = { change_pc = pc_savannah }
					20 = { change_pc = pc_prairie }
					20 = { change_pc = pc_veld }
					20 = { change_pc = pc_steppe }
					20 = { change_pc = pc_semiarid }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_coral
				}
				random_list = {
					20 = { change_pc = pc_arid }
					20 = { change_pc = pc_mesa }
					20 = { change_pc = pc_badlands }
					20 = { change_pc = pc_hadesert }
					20 = { change_pc = pc_med }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_dry_superhab
				}
				random_list = {
					20 = { change_pc = pc_arid }
					20 = { change_pc = pc_mesa }
					20 = { change_pc = pc_badlands }
					20 = { change_pc = pc_hadesert }
					20 = { change_pc = pc_med }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_storm
				}
				random_list = {
					20 = { change_pc = pc_arctic }
					20 = { change_pc = pc_antarctic }
					20 = { change_pc = pc_glacial }
					20 = { change_pc = pc_frozen_desert }
					20 = { change_pc = pc_aeolian }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_iceberg
				}
				random_list = {
					20 = { change_pc = pc_arctic }
					20 = { change_pc = pc_antarctic }
					20 = { change_pc = pc_glacial }
					20 = { change_pc = pc_frozen_desert }
					20 = { change_pc = pc_aeolian }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_cryoflora
				}
				random_list = {
					20 = { change_pc = pc_tundra }
					20 = { change_pc = pc_mud }
					20 = { change_pc = pc_basalt }
					20 = { change_pc = pc_mushroom }
					20 = { change_pc = pc_swamp }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_cold_superhab
				}
				random_list = {
					20 = { change_pc = pc_tundra }
					20 = { change_pc = pc_mud }
					20 = { change_pc = pc_basalt }
					20 = { change_pc = pc_mushroom }
					20 = { change_pc = pc_swamp }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_lichen
				}
				random_list = {
					20 = { change_pc = pc_tundra }
					20 = { change_pc = pc_mud }
					20 = { change_pc = pc_basalt }
					20 = { change_pc = pc_mushroom }
					20 = { change_pc = pc_swamp }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_eyeball
				}
				random_list = {
					20 = { change_pc = pc_arctic }
					20 = { change_pc = pc_antarctic }
					20 = { change_pc = pc_glacial }
					20 = { change_pc = pc_frozen_desert }
					20 = { change_pc = pc_aeolian }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_glacio
				}
				random_list = {
					20 = { change_pc = pc_alpine }
					20 = { change_pc = pc_boreal }
					20 = { change_pc = pc_highland }
					20 = { change_pc = pc_snow }
					20 = { change_pc = pc_duneforest }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_lanthanide
				}
				random_list = {
					20 = { change_pc = pc_alpine }
					20 = { change_pc = pc_boreal }
					20 = { change_pc = pc_highland }
					20 = { change_pc = pc_snow }
					20 = { change_pc = pc_duneforest }
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_ammonia
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_sulfur
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_acid
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_methane
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_pd_hycean
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_irradiated
				}
				generate_pd_start_deposits_and_blockers = yes
			}
			if = {
				limit = {
					has_planet_flag = lost_colony_planet
					is_planet_class = pc_ash
				}
				generate_pd_start_deposits_and_blockers = yes
			}
		}
	}
}

# FloraForge complete
planet_event = {
	id = pdengine.47
	title = pdengine.47.name
	desc = pdengine.47.desc
	picture = GFX_evt_baol_devolved
	show_sound = event_alien_nature
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_megafloraforge
			is_planet_class = pc_megaflorafort
			is_planet_class = pc_megafloracapital
		}
	}

	option = {
		name = pdengine.47.a
	}
}

# Mars+Venus+Earth Gets Special Pictures/Diffuse
planet_event = {
	id = pdengine.48
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				entity = "gaia_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_pdshroud
			}
			set_planet_entity = {
				entity = "pdshroud_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_dry = yes
				NOR = {
					is_planet_class = pc_desert
					is_planet_class = pc_arid
					is_planet_class = pc_savannah
				}
			}
			set_planet_entity = {
				entity = "dry_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_cold = yes
				NOR = {
					is_planet_class = pc_arctic
					is_planet_class = pc_tundra
					is_planet_class = pc_alpine
				}
			}
			set_planet_entity = {
				entity = "cold_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_wet = yes
				NOR = { 
					has_planet_flag = pd_snowball_start_earth 
					is_planet_class = pc_continental
					is_planet_class = pc_ocean
					is_planet_class = pc_tropical
				}
			}
			set_planet_entity = {
				entity = "continental_planet_earth_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = planet_earth
				is_planet_class = pc_nuked
			}
			set_planet_entity = {
				entity = "nuked_planet_earth_entity"
			}
		}		
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_wet = yes
				NOR = { 
					is_planet_class = pc_continental
					is_planet_class = pc_ocean
					is_planet_class = pc_tropical
				}
			}
			set_planet_entity = {
				picture = pc_wet_mars
				entity = "wetmars_planet_entity"
			}
		}	
		if = {
			limit = { 
				has_planet_flag = pdmars
				OR = { 
					is_planet_class = pc_continental
					is_planet_class = pc_ocean
					is_planet_class = pc_tropical
				}
			}
			set_planet_entity = {
				picture = pc_wet_mars
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_dry = yes
				NOR = {
					is_planet_class = pc_desert
					is_planet_class = pc_arid
					is_planet_class = pc_savannah
				}
			}
			set_planet_entity = {
				picture = pc_dry_mars
				entity = "drymars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				OR = {
					is_planet_class = pc_desert
					is_planet_class = pc_arid
					is_planet_class = pc_savannah
				}
			}
			set_planet_entity = {
				picture = pc_dry_mars
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_cold = yes
				NOR = {
					is_planet_class = pc_arctic
					is_planet_class = pc_tundra
					is_planet_class = pc_alpine
				}
			}
			set_planet_entity = {
				picture = pc_cold_mars
				entity = "coldmars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				OR = {
					is_planet_class = pc_arctic
					is_planet_class = pc_tundra
					is_planet_class = pc_alpine
				}
			}
			set_planet_entity = {
				picture = pc_cold_mars
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				picture = pc_wet_mars
				entity = "gaiamars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_cold_gaia
			}
			set_planet_entity = {
				picture = pc_cold_mars
				entity = "coldmars_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdmars
				is_planet_class = pc_hot_gaia
			}
			set_planet_entity = {
				picture = pc_dry_mars
				entity = "drymars_planet_entity"
			}
		}
		#Venus
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_wet = yes
			}
			set_planet_entity = {
				picture = pc_wetvenus
				entity = "wetvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_dry = yes
			}
			set_planet_entity = {
				picture = pc_dryvenus
				entity = "dryvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_cold = yes
			}
			set_planet_entity = {
				picture = pc_coldvenus
				entity = "coldvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_gaia
			}
			set_planet_entity = {
				picture = pc_wetvenus
				entity = "gaiavenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_hot_gaia
			}
			set_planet_entity = {
				picture = pc_dryvenus
				entity = "dryvenus_planet_entity"
			}
		}
		if = {
			limit = { 
				has_planet_flag = pdvenus
				is_planet_class = pc_cold_gaia
			}
			set_planet_entity = {
				picture = pc_coldvenus
				entity = "coldvenus_planet_entity"
			}
		}
	}
}

#Change Planet to Irradiated
planet_event = {
	id = pdengine.49
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		change_pc = pc_irradiated
		hidden_effect = {
			remove_modifier = radiotrophic
			add_modifier = {
				modifier = radiotrophic
				days = -1
			}
			add_deposit = d_rad_blooms_field
		}
	}
}

#TOL Hive Can Turn Barren into Forest
planet_event = {
	id = pdengine.50
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				OR = {
					is_planet_class = pc_barren
					is_planet_class = pc_barren_cold
					is_planet_class = pc_hothouse
				}
			}
			change_pc = pc_forest
		}
		if = {
			limit = {
				is_planet_class = pc_barren_superhab
			}
			change_pc = pc_superhabitable
		}
		if = {
			limit = {
				is_planet_class = pc_barren_cave
			}
			change_pc = pc_karst
		}
		if = {
			limit = {
				is_planet_class = pc_tidallylocked_barren
			}
			change_pc = pc_wettidallylocked
		}
		remove_modifier = terraforming_candidate
		remove_modifier = pdintoaforest
		reroll_planet = yes
		clear_blockers = yes
	}
}


# Randomize Necroids Starting Worlds for PD
country_event = {
	id = pdengine.51
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		has_origin = origin_necrophage
	}

	immediate = {
		capital_scope.solar_system = {
			closest_system = {
				limit = { has_star_flag = neighbor_t1_first_colony }
				max_steps = 3
				random_system_planet = {
					limit = {
						#is_colonizable = yes
						has_planet_flag = prescripted_ideal
					}
					if = {
						limit = {
							is_planet_class = pc_salt
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pdsalt
					}
					if = {
						limit = {
							is_planet_class = pc_aquifer
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pdaquifer
					}
					if = {
						limit = {
							is_planet_class = pc_superhabitable
						}
						random_list = {
							20 = { change_pc = pc_continental }		
							20 = { change_pc = pc_retinal}			
							20 = { change_pc = pc_forest }	
							20 = { change_pc = pc_lake }	
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = superhabitable
					}
					if = {
						limit = {
							is_planet_class = pc_geothermal
						}
						random_list = {
							20 = { change_pc = pc_desertislands	}		
							20 = { change_pc = pc_tropical }		
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						remove_modifier = geothermal
						reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_biolumen
						}
						random_list = {
							20 = { change_pc = pc_desertislands	}		
							20 = { change_pc = pc_tropical }		
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = biolumen
					}
					if = {
						limit = {
							is_planet_class = pc_karst
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = karst
					}
					if = {
						limit = {
							is_planet_class = pc_pd_dry_cave
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pd_cold_cave
					}
					if = {
						limit = {
							is_planet_class = pc_pd_cold_cave
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_boreal }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pd_cold_cave
					}
					if = {
						limit = {
							is_planet_class = pc_pd_dry_cave
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pd_dry_cave
					}
					if = {
						limit = {
							is_planet_class = pc_reef
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdreef
					}
					if = {
						limit = {
							is_planet_class = pc_pd_archipelago
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdarchipelago
					}
					if = {
						limit = {
							is_planet_class = pc_megaflora
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdmegaflora
					}
					if = {
						limit = {
							is_planet_class = pc_pd_petrified
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdpetrified
					}
					if = {
						limit = {
							is_planet_class = pc_aquatic
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_primal
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }
						}
						reroll_deposits = yes
						remove_modifier = primal
					}
					if = {
						limit = {
							is_planet_class = pc_pd_dry_superhab
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }
						}
						reroll_deposits = yes
						remove_modifier = primal
					}
					if = {
						limit = {
							is_planet_class = pc_tidallylocked
						}
						random_list = {
							20 = { change_pc = pc_savannah }
							20 = { change_pc = pc_prairie }
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_wettidallylocked
						}
						random_list = {
							20 = { change_pc = pc_desertislands	}		
							20 = { change_pc = pc_tropical }		
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = wettidallylocked
					}
					if = {
						limit = {
							is_planet_class = pc_supercon
						}
						random_list = {
							20 = { change_pc = pc_savannah }
							20 = { change_pc = pc_prairie }
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_pd_sinkhole
						}
						random_list = {
							20 = { change_pc = pc_savannah }
							20 = { change_pc = pc_prairie }
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = pdsinkhole
					}
					if = {
						limit = {
							is_planet_class = pc_coral
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }
						}
						reroll_deposits = yes
						remove_modifier = pdcoral
					}
					if = {
						limit = {
							is_planet_class = pc_storm
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
						remove_modifier = pdstorm
					}
					if = {
						limit = {
							is_planet_class = pc_pd_iceberg
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
						remove_modifier = pdiceberg
					}
					if = {
						limit = {
							is_planet_class = pc_cryoflora
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdcryoflora
					}
					if = {
						limit = {
							is_planet_class = pc_pd_cold_superhab
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pd_cold_superhab
					}
					if = {
						limit = {
							is_planet_class = pc_lichen
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdlichen
					}
					if = {
						limit = {
							is_planet_class = pc_eyeball
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
						remove_modifier = pdeyeball
					}
					if = {
						limit = {
							is_planet_class = pc_glacio
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pdglacio
					}
					if = {
						limit = {
							is_planet_class = pc_lanthanide
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pdlanthanide
					}
					if = {
						limit = {
							is_planet_class = pc_ammonia
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sulfur
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_acid
						}
						change_pc = rl_habitable_normal
						remove_modifier = pdacid
						reroll_deposits = yes
						#reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_methane
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_pd_hycean
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_irradiated
						}
						change_pc = rl_habitable_normal
						reroll_deposits = yes
						remove_modifier = radiotrophic
					}
					if = {
						limit = {
							is_planet_class = pc_ash
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_continental
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_retinal
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_forest
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_lake
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tepid
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_ocean
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cascadian
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_wetswamp
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_fog
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_subarctic
						}
						random_list = {
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_cascadian }	
							20 = { change_pc = pc_ocean }		
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tropical
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cenote
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desertislands
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mangrove
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hajungle
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desert
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sandsea
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_oasis
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_outback
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_coastal
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arid
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mesa
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_badlands
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hadesert
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_med
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_savannah
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_steppe
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_prairie
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_veld
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_semiarid
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_frozen_desert
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_glacial
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_antarctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_aeolian
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_alpine
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_boreal
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_snow
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_highland
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_duneforest
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tundra
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_swamp
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mushroom
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mud
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_basalt
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
				}
			}
			closest_system = {
				limit = { has_star_flag = neighbor_t2_second_colony }
				max_steps = 6
				random_system_planet = {
					limit = {
						#is_colonizable = yes
						has_planet_flag = prescripted_ideal
					}
					if = {
						limit = {
							is_planet_class = pc_salt
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
						remove_modifier = pdsalt
					}
					if = {
						limit = {
							is_planet_class = pc_aquifer
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }		
						}
						reroll_deposits = yes
						remove_modifier = pdaquifer
					}
					if = {
						limit = {
							is_planet_class = pc_superhabitable
						}
						random_list = {
							20 = { change_pc = pc_continental }		
							20 = { change_pc = pc_retinal}			
							20 = { change_pc = pc_forest }	
							20 = { change_pc = pc_lake }	
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = superhabitable
					}
					if = {
						limit = {
							is_planet_class = pc_geothermal
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						remove_modifier = geothermal
						reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_biolumen
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = biolumen
					}
					if = {
						limit = {
							is_planet_class = pc_karst
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = karst
					}
					if = {
						limit = {
							is_planet_class = pc_pd_cold_cave
						}
						random_list = {
							20 = { change_pc = pc_alpine }
							20 = { change_pc = pc_boreal }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_duneforest }
						}
						reroll_deposits = yes
						remove_modifier = pd_cold_cave
					}
					if = {
						limit = {
							is_planet_class = pc_pd_dry_cave
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }
							20 = { change_pc = pc_outback }
							20 = { change_pc = pc_coastal }
							20 = { change_pc = pc_oasis }
						}
						reroll_deposits = yes
						remove_modifier = pd_dry_cave
					}
					if = {
						limit = {
							is_planet_class = pc_reef
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdreef
					}
					if = {
						limit = {
							is_planet_class = pc_pd_archipelago
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
						remove_modifier = pdarchipelago
					}
					if = {
						limit = {
							is_planet_class = pc_pd_petrified
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdpetrified
					}
					if = {
						limit = {
							is_planet_class = pc_megaflora
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
						remove_modifier = pdmegaflora
					}
					if = {
						limit = {
							is_planet_class = pc_aquatic
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_primal
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }	
						}
						reroll_deposits = yes
						remove_modifier = primal
					}
					if = {
						limit = {
							is_planet_class = pc_wettidallylocked
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
						remove_modifier = wettidallylocked
					}
					if = {
						limit = {
							is_planet_class = pc_tidallylocked
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_supercon
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
						remove_modifier = tidal_locked2
					}
					if = {
						limit = {
							is_planet_class = pc_pd_sinkhole
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_coral
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }	
						}
						reroll_deposits = yes
						remove_modifier = pdcoral
					}
					if = {
						limit = {
							is_planet_class = pc_pd_dry_superhab
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }	
						}
						reroll_deposits = yes
						remove_modifier = pd_dry_superhab
					}
					if = {
						limit = {
							is_planet_class = pc_storm
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
						remove_modifier = pdstorm
					}
					if = {
						limit = {
							is_planet_class = pc_pd_iceberg
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
						remove_modifier = pdiceberg
					}
					if = {
						limit = {
							is_planet_class = pc_cryoflora
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdcryoflora
					}
					if = {
						limit = {
							is_planet_class = pc_pd_cold_superhab
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pd_cold_superhab
					}
					if = {
						limit = {
							is_planet_class = pc_lichen
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
						remove_modifier = pdlichen
					}
					if = {
						limit = {
							is_planet_class = pc_eyeball
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
						remove_modifier = pdeyeball
					}
					if = {
						limit = {
							is_planet_class = pc_glacio
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
						remove_modifier = pdglacio
					}
					if = {
						limit = {
							is_planet_class = pc_lanthanide
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
						remove_modifier = pdlanthanide
					}
					if = {
						limit = {
							is_planet_class = pc_ammonia
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sulfur
						}
						generate_pd_start_deposits_and_blockers = yes
					}
					if = {
						limit = {
							is_planet_class = pc_acid
						}
						change_pc = rl_habitable_normal
						remove_modifier = pdacid
						reroll_deposits = yes
						#reroll_planet = yes
					}
					if = {
						limit = {
							is_planet_class = pc_methane
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_pd_hycean
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_irradiated
						}
						change_pc = rl_habitable_normal
						reroll_deposits = yes
						remove_modifier = radiotrophic
					}
					if = {
						limit = {
							is_planet_class = pc_ash
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_continental
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_retinal
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_forest
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_lake
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tepid
						}
						random_list = {
							20 = { change_pc = pc_continental }
							20 = { change_pc = pc_lake }
							20 = { change_pc = pc_retinal }
							20 = { change_pc = pc_forest }
							20 = { change_pc = pc_tepid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_ocean
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cascadian
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_wetswamp
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_fog
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_subarctic
						}
						random_list = {
							20 = { change_pc = pc_ocean }
							20 = { change_pc = pc_cascadian }
							20 = { change_pc = pc_wetswamp }
							20 = { change_pc = pc_fog }
							20 = { change_pc = pc_subarctic }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tropical
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desertislands
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mangrove
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hajungle
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_cenote
						}
						random_list = {
							20 = { change_pc = pc_tropical }
							20 = { change_pc = pc_desertislands }	
							20 = { change_pc = pc_mangrove }		
							20 = { change_pc = pc_hajungle }		
							20 = { change_pc = pc_cenote }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_desert
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_sandsea
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_oasis
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_outback
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_coastal
						}
						random_list = {
							20 = { change_pc = pc_desert }
							20 = { change_pc = pc_sandsea }	
							20 = { change_pc = pc_oasis }	
							20 = { change_pc = pc_outback }	
							20 = { change_pc = pc_coastal }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arid
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }				
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mesa
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_badlands
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_hadesert
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_med
						}
						random_list = {
							20 = { change_pc = pc_arid }
							20 = { change_pc = pc_mesa }
							20 = { change_pc = pc_badlands }
							20 = { change_pc = pc_hadesert }
							20 = { change_pc = pc_med }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_savannah
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_steppe
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_prairie
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_veld
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_semiarid
						}
						random_list = {
							20 = { change_pc = pc_savannah }		
							20 = { change_pc = pc_steppe }
							20 = { change_pc = pc_prairie }	
							20 = { change_pc = pc_veld }
							20 = { change_pc = pc_semiarid }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_arctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_frozen_desert
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_glacial
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_antarctic
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_aeolian
						}
						random_list = {
							20 = { change_pc = pc_arctic }
							20 = { change_pc = pc_antarctic }
							20 = { change_pc = pc_glacial }
							20 = { change_pc = pc_frozen_desert }
							20 = { change_pc = pc_aeolian }			
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_alpine
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_boreal
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_snow
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }	
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_highland
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_duneforest
						}
						random_list = {
							20 = { change_pc = pc_alpine }		
							20 = { change_pc = pc_boreal }		
							20 = { change_pc = pc_snow }
							20 = { change_pc = pc_highland }
							20 = { change_pc = pc_duneforest }		
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_tundra
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_swamp
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mushroom
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_mud
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
					if = {
						limit = {
							is_planet_class = pc_basalt
						}
						random_list = {
							20 = { change_pc = pc_tundra }
							20 = { change_pc = pc_mud }
							20 = { change_pc = pc_basalt }
							20 = { change_pc = pc_mushroom }
							20 = { change_pc = pc_swamp }
						}
						reroll_deposits = yes
					}
				}
			}
		}
	}
}

#Levithan Storm World Origin
#country_event = {
#	id = pdengine.52
#	hide_window = yes
#	is_triggered_only = yes
#
#	trigger = {
#		owner = { has_origin = origin_pd_storm }
#	}
#
#   	immediate = {
#		every_galaxy_planet = {
#			limit = { is_planet_class = pc_storm is_capital = yes owner = { has_origin = origin_pd_storm } }
#			set_planet_flag = pd_storm_planet
#			add_deposit = d_storm_waters
#		}
#		every_galaxy_planet = {
#			limit = { has_planet_flag = pd_remove_storm_event }
#			remove_deposit = d_storm_waters
#			set_planet_flag = pdnoseamonster
#		}
#	}
#}

#Coral World Mystery Origin
#country_event = {
#	id = pdengine.53
#	hide_window = yes
#	is_triggered_only = yes
#
#	trigger = {
#		owner = { has_origin = origin_pd_coral }
#	}
#
#  	immediate = {
#		every_galaxy_planet = {
#			limit = { is_planet_class = pc_coral is_capital = yes owner = { has_origin = origin_pd_coral } }
#			set_planet_flag = pd_coral_planet
#			set_planet_flag = pd_coral_event
#			add_modifier = { modifier = pdaquaticpreservation days = -1 }
#			planet_event = { id = pdcoral.10 days = 10 }
#		}
#		every_galaxy_planet = {
#			limit = { has_planet_flag = pd_remove_coral_event }
#			set_planet_flag = pdnocoralevent
#			remove_planet_flag = pd_coral_event
#		}
#	}
#}

# Milarc complete
planet_event = {
	id = pdengine.54
	title = pdengine.54.name
	desc = pdengine.54.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_milarc
	}

	option = {
		name = pdengine.54.a
	}
}

#Exotic Ringworld Start
planet_event = {
	id = pdengine.55
	hide_window = yes
	is_triggered_only = yes

	trigger = {
			owner = { has_origin = origin_remnants }
	}

	immediate = {
		if = {
			limit = { owner = { has_trait = trait_pc_ammonia_preference } }
			add_modifier = { modifier = pdammoniaatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_sulfur_preference } }
			add_modifier = { modifier = pdsulfuratmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_methane_preference } }
			add_modifier = { modifier = pdmethaneatmosphere days = -1 }
		}
		if = {
			limit = { owner = { has_trait = trait_pc_ash_preference } }
			add_modifier = { modifier = pdashatmosphere days = -1 }	
		}
	}
}

# Infested to Barren after Orbital Bombardment
planet_event = {
	id = pdengine.60
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_infested
	}

	immediate = {
		pd_remove_special_deposits_modifiers = yes	
	}
}

# Ecumenopolis complete
planet_event = {
	id = pdengine.61
	title = pdengine.61.name
	desc = pdengine.61.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		OR = {
			is_planet_class = pc_palacearc
			is_planet_class = pc_capitalarc
		}
	}

	option = {
		name = pdengine.61.a
	}
}

country_event = {
	id = pdengine.62
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Fallen Empires Getting Rare Planet Bonuses
	immediate = {
		every_galaxy_planet = { 
			limit = {  
				has_planet_flag = fallen_empire_world
			}	
			IF = { limit = { is_planet_class = pc_superhabitable } 
				IF = { limit = { not = { has_modifier = superhabitable } }
				add_modifier = { modifier = "superhabitable" days = -1 }
				}
			}
			IF = { limit = { is_planet_class = pc_pd_dry_superhab } 
				IF = { limit = { not = { has_modifier = pd_dry_superhab } }
				add_modifier = { modifier = "pd_dry_superhab" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_cold_superhab } 
				IF = { limit = { not = { has_modifier = pd_cold_superhab } }
				add_modifier = { modifier = "pd_cold_superhab" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_geothermal } 
				IF = { limit = { not = { has_modifier = geothermal } }
				add_modifier = { modifier = "geothermal" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_biolumen } 
				IF = { limit = { not = { has_modifier = biolumen } }
				add_modifier = { modifier = "biolumen" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_tidallylocked } 
				IF = { limit = { not = { has_modifier = tidal_locked2 } }
				add_modifier = { modifier = "tidal_locked2" days = -1 }
				}
			}
			IF = { limit = { is_planet_class = pc_wettidallylocked } 
				IF = { limit = { not = { has_modifier = wettidallylocked } }
				add_modifier = { modifier = "wettidallylocked" days = -1 }
				}
			}		
			IF = { limit = { is_planet_class = pc_supercon } 
				IF = { limit = { not = { has_modifier = supercon } }
				add_modifier = { modifier = "supercon" days = -1 }
				}
			}		
			IF = { limit = { is_planet_class = pc_pd_sinkhole } 
				IF = { limit = { not = { has_modifier = pdsinkhole } }
				add_modifier = { modifier = "pdsinkhole" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_karst } 
				IF = { limit = { not = { has_modifier = karst } }
				add_modifier = { modifier = "karst" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_cold_cave } 
				IF = { limit = { not = { has_modifier = pd_cold_cave } }
				add_modifier = { modifier = "pd_cold_cave" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_dry_cave } 
				IF = { limit = { not = { has_modifier = pd_dry_cave } }
				add_modifier = { modifier = "pd_dry_cave" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_reef } 
				IF = { limit = { not = { has_modifier = pdreef } }
				add_modifier = { modifier = "pdreef" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_archipelago } 
				IF = { limit = { not = { has_modifier = pdarchipelago } }
				add_modifier = { modifier = "pdarchipelago" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_primal } 
				IF = { limit = { not = { has_modifier = primal } }
				add_modifier = { modifier = "primal" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_salt } 
				IF = { limit = { not = { has_modifier = pdsalt } }
				add_modifier = { modifier = "pdsalt" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_aquifer } 
				IF = { limit = { not = { has_modifier = pdaquifer } }
				add_modifier = { modifier = "pdaquifer" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_coral } 
				IF = { limit = { not = { has_modifier = pdcoral } }
				add_modifier = { modifier = "pdcoral" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_storm } 
				IF = { limit = { not = { has_modifier = pdstorm } }
				add_modifier = { modifier = "pdstorm" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_iceberg } 
				IF = { limit = { not = { has_modifier = pdiceberg } }
				add_modifier = { modifier = "pdiceberg" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_rogue } 
				IF = { limit = { not = { has_modifier = pdrogue } }
				add_modifier = { modifier = "pdrogue" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_cryoflora } 
				#IF = { limit = { not = { has_deposit = d_cryo_deposit } }
				#add_deposit = d_cryo_deposit
				#}
				IF = { limit = { not = { has_modifier = pdcryoflora } }
				add_modifier = { modifier = "pdcryoflora" days = -1 }
				}
			}		
			IF = { limit = { is_planet_class = pc_lichen } 
				IF = { limit = { not = { has_modifier = pdlichen } }
				add_modifier = { modifier = "pdlichen" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_eyeball } 
				IF = { limit = { not = { has_modifier = pdeyeball } }
				add_modifier = { modifier = "pdeyeball" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_glacio } 
				IF = { limit = { not = { has_modifier = pdglacio } }
				add_modifier = { modifier = "pdglacio" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_lanthanide } 
				IF = { limit = { not = { has_modifier = pdlanthanide } }
				add_modifier = { modifier = "pdlanthanide" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_megaflora } 
				IF = { limit = { not = { has_modifier = pdmegaflora } }
				add_modifier = { modifier = "pdmegaflora" days = -1 }
				}
			}	
			IF = { limit = { is_planet_class = pc_pd_petrified }
				IF = { limit = { not = { has_modifier = pdpetrified} }
				add_modifier = { modifier = "pdpetrified" days = -1 }
				}
			}	
			IF = { limit = { OR = { is_planet_class = pc_aquatic is_planet_class = pc_tidallyaquatic } }
				IF = { limit = { not = { has_deposit = d_aquatic_trench } }
				add_deposit = d_aquatic_trench
				}
				IF = { limit = { not = { has_modifier = aquatic } }
				add_modifier = { modifier = "aquatic" days = -1 }
				}
			}	
		}
	}
}

# CorpoArc Complete
planet_event = {
	id = pdengine.64
	title = pdengine.64.name
	desc = pdengine.64.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_corpoarc
	}

	option = {
		name = pdengine.64.a
	}
}

country_event = {
	id = pdengine.65
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Crucible Start

	trigger = {	owner = { has_origin = origin_crucible_world } }

	immediate = {
		if = { limit = { owner = { has_origin = origin_crucible_world }	}
			every_galaxy_planet = { 
				limit = { 
					has_planet_flag = pd_crucible_homeplanet 
					FROM = { owner = { has_origin = origin_crucible_world } }
				}
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
				add_deposit = d_sizable_ruins
			}
			every_galaxy_planet = { 
				limit = { 
					has_planet_flag = pd_crucible_planet_origin 
					is_planet_class = pc_shielded
					FROM = { space_owner = { has_origin = origin_crucible_world } }
				}
				enable_special_project = { name = pd_crucible_shieldbreaker }
			}
		}
	}
}

country_event = {
	id = pdengine.66
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Crucible Start

	trigger = {	NOT = { owner = { has_origin = origin_crucible_world } } }

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				has_planet_flag = pd_crucible_planet 
				is_planet_class = pc_shielded
				}
			create_archaeological_site = pdcrucible_site
		}
	}
}

country_event = {
	id = pdengine.67
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	#Archive Start

	trigger = {	NOT = { owner = { has_origin = origin_archive_world } } }

	immediate = {
		every_galaxy_planet = { 
			limit = { 
				has_planet_flag = archive_planet_notorigin 
				is_planet_class = pc_archive
				}
			create_archaeological_site = pdarchive_site
		}
	}
}

## Aquatic Paradise Origin

# Initial setup
country_event = {
	id = pdengine.69
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		every_playable_country = {
			limit = { has_origin = origin_aquatic_paradise }
			country_event = { id = pdengine.70 }
		}
	}
}

# Change starting colonisables into Frozen Worlds and nearby asteroids into Ice Asteroids
country_event = {
	id = pdengine.70
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		has_origin = origin_aquatic_paradise
	}

	immediate = {
		capital_scope.solar_system = {
			closest_system = {
				limit = { has_star_flag = neighbor_t1_first_colony }
				max_steps = 3
				random_system_planet = {
					limit = {
						is_colonizable = yes
						is_colony = no
						has_planet_flag = prescripted_ideal
					}
					change_pc = pc_frozen
				}
				random_system_planet = {
					limit = {
						is_asteroid = yes
					}
					change_pc = pc_ice_asteroid
				}
			}
			closest_system = {
				limit = { has_star_flag = neighbor_t2_second_colony }
				max_steps = 6
				random_system_planet = {
					limit = {
						is_colonizable = yes
						is_colony = no
						has_planet_flag = prescripted_ideal
					}
					change_pc = pc_frozen
				}
				random_system_planet = {
					limit = {
						is_asteroid = yes
					}
					change_pc = pc_ice_asteroid
				}
			}
		}
	}
}

planet_event = {
	id = pdengine.71
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			owner = { has_origin = origin_floating_world }
			owner = { has_origin = origin_crystal_world }
			owner = { has_origin = origin_graveyard_world }
			owner = { has_origin = origin_pd_ammonia_breathers }
			owner = { has_origin = origin_pd_ash_tectonic_drillers }
			owner = { has_origin = origin_pd_methane_cryogenics }
			owner = { has_origin = origin_pd_sulfur_springs }
			owner = { has_origin = origin_pd_rogue_voidfarers }
		}	
	}
	immediate = { pd_generate_start_pops = yes }
}

# Check Planet Class for Deposits + Modifiers
planet_event = {
	id = pdengine.72
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = { 
		limit = { is_capital = no }
			remove_deposit = d_pd_capital_arc
			remove_deposit = d_pd_palace_arc
			remove_deposit = d_pd_boardroom_arc
			remove_deposit = d_pd_biohivecap_arc
			remove_deposit = d_pd_machinecap_arc
			remove_deposit = d_pd_roguecap_arc
			pd_remove_special_arc_deposits = yes
		}
		if = { 
		limit = { 
			has_deposit = d_pd_necro_arc
			owner = { 
				OR = {
					NOT = { has_civic = civic_memorialist }
					NOT = { has_civic = civic_death_cult }
					NOT = { has_civic = civic_death_cult_corporate }
					NOT = { has_civic = civic_hive_memorialist }
					NOT = { has_civic = civic_hive_cordyceptic_drones }
					NOT = { has_civic = civic_machine_memorialist }
					NOT = { has_civic = civic_death_cult_corporate }
					NOT = { has_origin = origin_necrophage }
				}
			}
		}
			remove_deposit = d_pd_necro_arc
			remove_deposit = d_pd_necro_arc_spot
			pd_remove_special_arc_deposits = yes
		}
		if = { 
		limit = { 
			has_deposit = d_pd_shroud_arc
			OR = {
				NOT = { owner = { pd_has_psionic_ascension_finished = yes  } }
				NOT = { owner = { has_origin =  origin_pd_shroud } }
			}
		}
			remove_deposit = d_pd_shroud_arc
			remove_deposit = d_pd_shroud_arc_spot
			pd_remove_special_arc_deposits = yes
		}
	}
}

# Different Earth Entities on Game Start
country_event = {
	id = pdengine.73
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_galaxy_planet = {
			has_planet_flag = planet_earth
		}
	}

	immediate = {
			every_galaxy_planet = {
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_gaia
				}
				set_planet_entity = {
					entity = "gaia_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_pdshroud
				}
				set_planet_entity = {
					entity = "pdshroud_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_dry = yes
					NOT = { is_planet_class = pc_relic }
				}
				set_planet_entity = {
					entity = "dry_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_relic
				}
				set_planet_entity = {
					entity = "relic_world_earth_01_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_cold = yes
				}
				set_planet_entity = {
					entity = "cold_planet_earth_entity"
				}
			}
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_wet = yes
					NOT = { has_planet_flag = pd_snowball_start_earth }
				}
				set_planet_entity = {
					entity = "continental_planet_earth_entity"
				}
			}	
			if = {
				limit = { 
					has_planet_flag = planet_earth
					is_planet_class = pc_nuked
				}
				set_planet_entity = {
					entity = "nuked_planet_earth_entity"
				}
			}		
		}
	}
}

# Change Superhabitable Star Class to K for homeworld Superhabitable
country_event = {
	id = pdengine.74
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		every_galaxy_planet = {
			if = { 
				limit = { 
					OR = {
						is_planet_class = pc_superhabitable 
						is_planet_class = pc_pd_dry_superhab 
						is_planet_class = pc_pd_cold_superhab 
					}
					is_homeworld = yes 
					system_star = {  
						OR = { 
							is_star_class = sc_b 
							is_star_class = sc_a 
							is_star_class = sc_f 
							is_star_class = sc_g 
							is_star_class = sc_m 
							is_star_class = sc_m_giant 
							is_star_class = sc_t 
							is_star_class = sc_neutron_star 
							is_star_class = sc_pulsar 
						} 
					} 
				}
				solar_system = {
					set_star_class = sc_k
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 20 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 21 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 22 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 23 } change_planet_size = 7 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 24 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 25 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 26 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 27 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 28 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 29 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = {
				limit = { 
					OR = {
						is_planet_class = pc_superhabitable 
						is_planet_class = pc_pd_dry_superhab 
						is_planet_class = pc_pd_cold_superhab 
					}
					is_homeworld = yes 
					system_star = { is_star_class = sc_binary_1 } 
				}
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_pulsar } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = {
			if = {
				limit = { 
					OR = {
						is_planet_class = pc_superhabitable 
						is_planet_class = pc_pd_dry_superhab 
						is_planet_class = pc_pd_cold_superhab 
					}
					is_homeworld = yes system_star = { is_star_class = sc_binary_2 } 
				}
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_neutron_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_3 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_b_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = { # This one already has a secondary F star so only the central star needs to change
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_4 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = { # This one is a B B binary so I change all of them to F stars and then set the star class to sc_binary_7 as it changes the central star to a K star
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_5 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_b_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_6 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_g_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = { # This one already has a secondary F star so only the central star needs to change
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_8 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				} 
			} 
		}
		every_galaxy_planet = { # This one already has a secondary F star so only the central star needs to change
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_9 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				} 
			} 
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_binary_10 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_t_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					set_star_class = sc_binary_7
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_trinary_1 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_m_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_3
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = { # Even if it already has an F Star I decided to change into a G star and the A star into an F in order to keep the secondary and tertiary planets similar to the sc_trinary_3 list order the code must execute in the exact order as below otherwise it may bork it
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_trinary_2 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_a_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_3
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_superhabitable is_planet_class = pc_pd_dry_superhab is_planet_class = pc_pd_cold_superhab } is_homeworld = yes system_star = { is_star_class = sc_trinary_4 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_k_star } change_pc = pc_f_star }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_f_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_t_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_3
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = {
			if = {
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = {  OR = { is_star_class = sc_b is_star_class = sc_a is_star_class = sc_f is_star_class = sc_g is_star_class = sc_k is_star_class = sc_m_giant is_star_class = sc_t is_star_class = sc_neutron_star is_star_class = sc_pulsar } } }
				solar_system = {
					set_star_class = sc_m
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 20 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 21 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 22 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 23 } change_planet_size = 7 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 24 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 25 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 26 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 27 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 28 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 29 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked  is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_1 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_pulsar } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_2 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_neutron_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_3 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_b_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_4 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_5 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_b_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_7 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_8 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_9 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_binary_10 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_t_star } change_pc = pc_g_star }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_binary_6
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_trinary_2 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_k_star }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 18 } change_planet_size = 7 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_a_star } change_pc = pc_m_star }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_1
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_trinary_3 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_f_star } change_pc = pc_k_star }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 18 } change_planet_size = 7 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_a_star } change_pc = pc_m_star }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_1
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 34 } change_planet_size = 1 }
				}
			} 
		}
		every_galaxy_planet = {
			if = { 
				limit = { OR = { is_planet_class = pc_wettidallylocked is_planet_class = pc_tidallylocked is_planet_class = pc_eyeball } is_homeworld = yes system_star = { is_star_class = sc_trinary_4 } }
				solar_system = {
					every_system_planet = { limit = { is_planet_class = pc_k_star } change_pc = pc_m_star }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_m_star planet_size = 30 } change_planet_size = -5 }
					every_system_planet = { limit = { is_planet_class = pc_t_star } change_pc = pc_k_star }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 15 } change_planet_size = 10 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 16 } change_planet_size = 9 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 17 } change_planet_size = 8 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 18 } change_planet_size = 7 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 19 } change_planet_size = 6 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 20 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 21 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 22 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 23 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 24 } change_planet_size = 1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 26 } change_planet_size = -1 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 27 } change_planet_size = -2 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 28 } change_planet_size = -3 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 29 } change_planet_size = -4 }
					every_system_planet = { limit = { is_planet_class = pc_k_star planet_size = 30 } change_planet_size = -5 }
					set_star_class = sc_trinary_1
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 30 } change_planet_size = 5 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 31 } change_planet_size = 4 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 32 } change_planet_size = 3 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 33 } change_planet_size = 2 }
					every_system_planet = { limit = { is_planet_class = pc_g_star planet_size = 34 } change_planet_size = 1 }
				}
			}
		}
	}
}

# Necro Seed building chain completed.
planet_event = {
	id = pdengine.75
	is_triggered_only = yes
	title = "pdengine.75.name"
	desc = "pdengine.75.desc"
	picture = GFX_evt_pd_necro

	trigger = {
		last_building_changed = building_necroseeders_3
		is_pd_necro_world = no
	}

	immediate = {
		# Turn planet into Necro world.
		IF = {
			limit = {	
				NOT = {
					is_pd_tidally_locked = yes
					is_pd_superhab = yes
					is_pd_cave = yes
				}
			}
			change_pc = pc_pd_necro
		}		
		IF = {
			limit = {
				is_pd_tidally_locked = yes
			}
			change_pc = pc_necrotidallylocked
		}	
		IF = {
			limit = {
				is_pd_superhab = yes
			}
			change_pc = pc_pd_necro_superhab
		}	
		IF = {
			limit = {
				is_pd_cave = yes
			}
			change_pc = pc_pd_necro_cave
		}

		# Remove Gaia Seed building.
		remove_building = building_necroseeders_3

		#Add special deposit
		add_deposit = d_pd_necro_planet
		
	}

	option = {
		name = pdengine.75.a
	}

	after = {
		tooltip = {
			change_pc = pc_pd_necro
			remove_building = building_necroseeders_3
		}
	}
}

planet_event = {
	id = pdengine.77
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_floating_world }
		OR = {
			is_pd_regular = yes
			is_pd_rare = yes
		}
	}
	immediate = { generate_pd_start_deposits_and_blockers = yes }
}

# Techno Arc Complete
planet_event = {
	id = pdengine.78
	title = pdengine.78.name
	desc = pdengine.78.desc
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = root

	is_triggered_only = yes

	trigger = {
		is_planet_class = pc_pd_techno_arc
	}

	option = {
		name = pdengine.78.a
	}
}
#Aquatic Ringworlds Megastructures
country_event = {
    id = pdengine.79 
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        owner = { has_origin = origin_aquatic_paradise }
    }
    immediate = {
        every_planet_within_border = {
			IF = {
				limit = { 
					is_planet_class = "pc_ringworld_habitable" 
					NOT = { has_modifier = flooded_habitat }
					is_colony = no
				}	
				add_modifier = { modifier = flooded_habitat days = -1 }
				set_planet_entity = { picture = pc_aquatic entity = pdaquatic_01_ringworld_habitable_entity_01_entity  }
            }
			IF = {
				limit = { 
					is_planet_class = pc_ringworld_seam
				}	
				set_planet_entity = { entity = aquatic_01_ringworld_seam_entity_01_entity }
            }
			IF = {
				limit = { 
					is_planet_class = pc_ringworld_tech
				}	
				set_planet_entity = { entity = aquatic_01_ringworld_tech_entity_01_entity }
            }
        }
    }
}

planet_event = {
	id = pdengine.80
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		owner = { has_origin = origin_broken_shackles }
		OR = {
			is_pd_regular = yes
			is_pd_rare = yes
		}
	}
	immediate = { generate_pd_start_deposits_and_blockers = yes }
}