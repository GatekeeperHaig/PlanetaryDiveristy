####################
# NOTE FOR MODDERS #
####################
# Matching to planet classes are done via name matching (trait_PLANET_CLASS_KEY_preference) or using setting ideal_planet_class.
# ideal_planet_class = pc_desert # Must be set and match an existing planet class or it will not be treated as a habitability trait. Note that only one trait
####################

# Terrestrial worlds sit between Sub-terrestrials and Oceanics (water-wise)
# They will have a higher secondary habitability when compared to Sub-terrestrials and Oceanics, but lower tertiary habitability
# This is also to balance the fact that there will be no Terrestrial Terraformed world class in the Extended sub-mod
# So Terrestrial species should pick either Sub-terrestrial or Oceanic terraformed target and habitability will not suffer much

@primary_terrestrial = 0.60			# Same class
@secondary_terrestrial = 0.55		# Same climates, different types (terrestrials, sub-terrestrials or oceanics)
@tertiary_terrestrial = 0.30		# Same type, different climates (temperate, hot, frigid)
@quaternary_terrestrial = 0.30		# Different type and climate, including marginals

@primary = 0.60
@secondary = 0.45
@tertiary = 0.40
@quaternary = 0.30


@toxic = 0.20
@submerged = -0.50
@gaia = 0.80

@bonus_high = 0.15
@bonus_low = 0.05
@bonus_negative = -0.10
@fish_out_of_water = -0.20

@machine_primary = 0.75
@machine_secondary = 0.50

####################
# Base habitability should be lower than vanilla because the Biosphere modifier will also give a bonus.
# Each vanilla pc has a default world class and biome, so for instances PC_continental defaults to Chloerosorimos class with Diverse biosphere while PC_tropical defaults to Tropikostopio with Dense biosphere.
# How it works: a species with pc_continental preference will have a habitability bonus on any world with Diverse biosphere, and no bonus or even a penalty on worlds with different biospheres.
# Also take into account, some world classes can have different biospheres, so a planet's habitability depends on the table below, and also on the biosphere the planet has.

# DRY TERRESTRIAL (default Xirosorimos class - Sparse)
trait_pc_arid_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_arid_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia
		# TERRESTRIALS
			pc_arid_habitability = @primary_terrestrial					# Dry
			pc_continental_habitability = @tertiary_terrestrial			# Temperate
			pc_arctic_habitability = @tertiary_terrestrial				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @secondary_terrestrial			# Dry
			pc_tropical_habitability = @quaternary_terrestrial			# Temperate
			pc_tundra_habitability = @quaternary_terrestrial				# Frigid
		# OCEANICS
			pc_desert_habitability = @secondary_terrestrial				# Dry
			pc_ocean_habitability = @quaternary_terrestrial				# Temperate
			pc_alpine_habitability = @quaternary_terrestrial				# Frigid
		# MARGINALS
			pc_nuked_habitability = @quaternary_terrestrial
	}
	custom_tooltip = TRAIT_SPARSE_CARBONRICH_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = 0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}
# TEMPERATE TERRESTRIAL (default Chloerosorimos class - Diverse)
trait_pc_continental_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_continental_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @tertiary_terrestrial				# Dry
			pc_continental_habitability = @primary_terrestrial			# Temperate
			pc_arctic_habitability = @tertiary_terrestrial				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @quaternary_terrestrial			# Dry
			pc_tropical_habitability = @secondary_terrestrial			# Temperate
			pc_tundra_habitability = @quaternary_terrestrial			# Frigid
		# OCEANICS
			pc_desert_habitability = @quaternary_terrestrial			# Dry
			pc_ocean_habitability = @secondary_terrestrial				# Temperate
			pc_alpine_habitability = @quaternary_terrestrial			# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary_terrestrial
	}
	custom_tooltip = TRAIT_DIVERSE_VARIABLEWATERVAPOUR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.15		
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}
# FRIGID TERRESTRIAL (default Pagosorimos class - Sparse)
trait_pc_arctic_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_arctic_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @tertiary_terrestrial				# Dry
			pc_continental_habitability = @tertiary_terrestrial			# Temperate
			pc_arctic_habitability = @primary_terrestrial				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @quaternary_terrestrial			# Dry
			pc_tropical_habitability = @quaternary_terrestrial			# Temperate
			pc_tundra_habitability = @secondary_terrestrial				# Frigid
		# OCEANICS
			pc_desert_habitability = @quaternary_terrestrial			# Dry
			pc_ocean_habitability = @quaternary_terrestrial				# Temperate
			pc_alpine_habitability = @secondary_terrestrial				# Frigid
		# MARGINALS
			pc_nuked_habitability = @quaternary_terrestrial		
	}
	custom_tooltip = TRAIT_SPARSE_VARIABLEWATERVAPOUR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}

# DRY SUB-TERRESTRIAL (default Savana class - Sparse)
trait_pc_savannah_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_savannah_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @secondary				# Dry
			pc_continental_habitability = @quaternary		# Temperate
			pc_arctic_habitability = @quaternary			# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @primary				# Dry
			pc_tropical_habitability = @tertiary			# Temperate
			pc_tundra_habitability = @tertiary				# Frigid
		# OCEANICS
			pc_desert_habitability = @secondary				# Dry
			pc_ocean_habitability = @quaternary				# Temperate
			pc_alpine_habitability = @quaternary			# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_SPARSE_LOWERWATERVAPOUR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}
# TEMPERATE SUB-TERRESTRIAL (default Tropikostopio class - Dense)
trait_pc_tropical_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_tropical_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @quaternary				# Dry
			pc_continental_habitability = @secondary		# Temperate
			pc_arctic_habitability = @quaternary			# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @tertiary			# Dry
			pc_tropical_habitability = @primary				# Temperate
			pc_tundra_habitability = @tertiary				# Frigid
		# OCEANICS
			pc_desert_habitability = @quaternary			# Dry
			pc_ocean_habitability = @secondary				# Temperate
			pc_alpine_habitability = @quaternary			# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_DENSE_OXYGENCARBONMIX_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}
# FRIGID SUB-TERRESTRIAL (default Cryotopio class - Diverse)
trait_pc_tundra_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_tundra_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @quaternary				# Dry
			pc_continental_habitability = @quaternary		# Temperate
			pc_arctic_habitability = @secondary				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @tertiary			# Dry
			pc_tropical_habitability = @tertiary			# Temperate
			pc_tundra_habitability = @primary				# Frigid
		# OCEANICS
			pc_desert_habitability = @quaternary			# Dry
			pc_ocean_habitability = @quaternary				# Temperate
			pc_alpine_habitability = @secondary				# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_DIVERSE_LOWERWATERVAPOUR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}

# DRY SUB-OCEANIC (default Thermopelagic class - Sparse)
trait_pc_desert_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_desert_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @secondary				# Dry
			pc_continental_habitability = @quaternary		# Temperate
			pc_arctic_habitability = @quaternary			# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @secondary			# Dry
			pc_tropical_habitability = @quaternary			# Temperate
			pc_tundra_habitability = @quaternary			# Frigid
		# OCEANICS
			pc_desert_habitability = @primary				# Dry
			pc_ocean_habitability = @tertiary				# Temperate
			pc_alpine_habitability = @tertiary				# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_SPARSE_OXYGENCARBONMIX_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}
# TEMPERATE OCEANIC (default Archipelagic class - Diverse)
trait_pc_ocean_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ocean_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @quaternary				# Dry
			pc_continental_habitability = @secondary		# Temperate
			pc_arctic_habitability = @quaternary			# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @quaternary			# Dry
			pc_tropical_habitability = @secondary			# Temperate
			pc_tundra_habitability = @quaternary			# Frigid
		# OCEANICS
			pc_desert_habitability = @tertiary				# Dry
			pc_ocean_habitability = @primary				# Temperate
			pc_alpine_habitability = @tertiary				# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_DIVERSE_HIGHERWATERVAPOUR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
			from = {
				NOT = { has_trait = trait_aquatic }
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
			from = {
				NOT = { has_trait = trait_aquatic }
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
			from = {
				NOT = { has_trait = trait_aquatic }
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
			from = {
				NOT = { has_trait = trait_aquatic }
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
			from = {
				NOT = { has_trait = trait_aquatic }
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## FOR AQUATIC SPECIES:
	# Submerged world with aquatic biosphere
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
			from = {
				has_trait = trait_aquatic
			}
		}
		pop_environment_tolerance = 0.10 # Aquatic trait will further increase habitability if the aquatic environment is in a temperate Oceanic world
	}
	# Surface world with any other biosphere
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
			from = {
				has_trait = trait_aquatic
			}
		}
		pop_environment_tolerance = @fish_out_of_water
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = @fish_out_of_water
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
			from = {
				has_trait = trait_aquatic
			}
		}
		pop_environment_tolerance = @fish_out_of_water
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
			from = {
				has_trait = trait_aquatic
			}
		}
		pop_environment_tolerance = @fish_out_of_water
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
			from = {
				has_trait = trait_aquatic
			}
		}
		pop_environment_tolerance = @fish_out_of_water
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	species_possible_remove = {
		NOT = { has_trait = trait_aquatic }
	}
	ai_weight = {
		weight = 0
	}
}
# FRIGID SUB-OCEANIC (default Cryopelagic class - Tenuous)
trait_pc_alpine_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_alpine_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	species_potential_add = {
		can_change_habitability_preference = yes
	}
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @gaia	
		# TERRESTRIALS
			pc_arid_habitability = @quaternary				# Dry
			pc_continental_habitability = @quaternary		# Temperate
			pc_arctic_habitability = @secondary				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @quaternary			# Dry
			pc_tropical_habitability = @quaternary			# Temperate
			pc_tundra_habitability = @secondary				# Frigid
		# OCEANICS
			pc_desert_habitability = @tertiary				# Dry
			pc_ocean_habitability = @tertiary				# Temperate
			pc_alpine_habitability = @primary				# Frigid
		# MARGINALS		
			pc_nuked_habitability = @quaternary
	}
	custom_tooltip = TRAIT_TENUOUS_CARBONPOOR_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-barren
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-tenuous
				}
			}
		}
		pop_environment_tolerance = 0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-sparse
				}
			}
		}
		pop_environment_tolerance = 0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-diverse
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-dense
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.05
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.15
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}

# SUPER-TERRESTRIAL (default Chloerosgaean class)
trait_pc_gaia_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_gaia_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = 1.0
		# TERRESTRIALS
			pc_arid_habitability = @quaternary				# Dry
			pc_continental_habitability = @quaternary			# Temperate
			pc_arctic_habitability = @quaternary				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @quaternary			# Dry
			pc_tropical_habitability = @quaternary			# Temperate
			pc_tundra_habitability = @quaternary				# Frigid
		# OCEANICS
			pc_desert_habitability = @quaternary				# Dry
			pc_ocean_habitability = @quaternary				# Temperate
			pc_alpine_habitability = @quaternary				# Frigid
		# MARGINALS
			pc_nuked_habitability = @toxic
	}
	custom_tooltip = TRAIT_SEEDED_ARTIFICIAL_EFFECT
	## BIOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	## ATMOSPHERE EFFECTS
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = variable_water_vapour
				}
			}
		}
		pop_environment_tolerance = 0.00
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-lower_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-higher_water_vapour
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-oxygen_carbon_mix
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_poor
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-carbon_rich
				}
			}
		}
		pop_environment_tolerance = -0.10
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-frigid_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-hot_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-wet_marginal
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-ammonia_vapour
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = atmosphere-polluted
				}
			}
		}
		pop_environment_tolerance = -0.20
	}
	###
	ai_weight = {
		weight = 0
	}
}

# MARGINAL (default Tomb class)
trait_pc_nuked_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_nuked_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		# SUPER-TERRESTRIALS
			pc_gaia_habitability = @secondary
		# TERRESTRIALS
			pc_arid_habitability = @secondary				# Dry
			pc_continental_habitability = @secondary			# Temperate
			pc_arctic_habitability = @secondary				# Frigid
		# SUB-TERRESTRIALS
			pc_savannah_habitability = @secondary			# Dry
			pc_tropical_habitability = @secondary			# Temperate
			pc_tundra_habitability = @secondary				# Frigid
		# OCEANICS
			pc_desert_habitability = @secondary				# Dry
			pc_ocean_habitability = @secondary				# Temperate
			pc_alpine_habitability = @secondary				# Frigid
		# MARGINALS
			pc_nuked_habitability = @secondary
	}
	triggered_planet_growth_habitability_modifier = {
		potential = {
			exists = planet
			planet = {
				OR = {
					has_modifier = biosphere-aquatic
				}
			}
		}
		habitability_ceil_add = @submerged
		planet_buildings_cost_mult = 0.25
		planet_districts_cost_mult = 0.25
		#planet_building_build_speed_mult = 0.50
	}
	ai_weight = {
		weight = 0
	}
}

# OTHERS

trait_pc_ai_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ai_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_ai_habitability = 1.0
		pc_gaia_habitability = 0.01
		pc_desert_habitability = 0.01
		pc_tropical_habitability = 0.01
		pc_continental_habitability = 0.01
		pc_ocean_habitability = 0.01
		pc_alpine_habitability = 0.01
		pc_arctic_habitability = 0.01
		pc_tundra_habitability = 0.01
		pc_arid_habitability = 0.01
		pc_savannah_habitability = 0.01
		pc_nuked_habitability = 0.01
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_ringworld_habitable_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ring_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_ringworld_habitable_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_habitat_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_habitat_preference.dds"
	species_potential_add = {
		exists = from
		from = {
			AND = {
				has_origin = origin_void_dwellers
				has_tradition = tr_genetics_resequencing
			}
		}
	}
	species_possible_merge_add = {
		always = yes
	}
	species_possible_remove = {
		NOT = { has_trait = trait_void_dweller_1 }
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_habitat_habitability = @primary
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_machine_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_machine_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_machine_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_hive_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_hive_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_hive_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_relic_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_relic_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_relic_habitability = @primary
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_shattered_ring_habitable_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ring_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_ringworld_habitable_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_gaia_preference_terraforming = {
	icon = "gfx/interface/icons/traits/trait_pc_gaia_preference.dds"
	ideal_planet_class = pc_gaia
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	initial = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	sorting_priority = 30
	modifier = {
		pc_gaia_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
	custom_tooltip_with_modifiers = gaia_preference_terraforming_trait_tooltip
	triggered_pop_modifier = {
		potential = {
			exists = planet
			planet = { is_planet_class = pc_gaia }
		}
		planet_jobs_produces_mult = 0.05
	}
}

trait_pc_city_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_city_preference.dds"
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID }
	sorting_priority = 30
	modifier = {
		pc_city_habitability = @primary
	}
	ai_weight = {
		weight = 0
	}
}

trait_dry_planet_preference = {
	icon = "gfx/interface/icons/traits/trait_dry_planet_preference.dds"
	allowed_archetypes = { MACHINE ROBOT }
	sorting_priority = 30
	bound_to_planet_classes = {
		pc_desert
		pc_arid
		pc_savannah
	}
	initial = no
	randomized = no
	species_possible_merge_add = {
		always = yes
	}
	modifier = {
		pc_desert_habitability = @machine_primary
		pc_arid_habitability = @machine_primary
		pc_savannah_habitability = @machine_primary

		pc_ocean_habitability = @machine_secondary
		pc_continental_habitability = @machine_secondary
		pc_tropical_habitability = @machine_secondary

		pc_arctic_habitability = @machine_secondary
		pc_alpine_habitability = @machine_secondary
		pc_tundra_habitability = @machine_secondary
	}
	ai_weight = {
		weight = 0
	}
}

trait_wet_planet_preference = {
	icon = "gfx/interface/icons/traits/trait_wet_planet_preference.dds"
	allowed_archetypes = { MACHINE ROBOT }
	sorting_priority = 30
	bound_to_planet_classes = {
		pc_ocean
		pc_tropical
		pc_continental
	}
	initial = no
	randomized = no
	species_possible_merge_add = {
		always = yes
	}
	species_possible_remove = {
		NOT = { has_trait = trait_robot_aquatic }
	}
	modifier = {
		pc_ocean_habitability = @machine_primary
		pc_continental_habitability = @machine_primary
		pc_tropical_habitability = @machine_primary

		pc_desert_habitability = @machine_secondary
		pc_arid_habitability = @machine_secondary
		pc_savannah_habitability = @machine_secondary

		pc_arctic_habitability = @machine_secondary
		pc_alpine_habitability = @machine_secondary
		pc_tundra_habitability = @machine_secondary

	}
	ai_weight = {
		weight = 0
	}
}

trait_frozen_planet_preference = {
	icon = "gfx/interface/icons/traits/trait_frozen_planet_preference.dds"
	allowed_archetypes = { MACHINE ROBOT }
	sorting_priority = 30
	bound_to_planet_classes = {
		pc_tundra
		pc_arctic
		pc_alpine
	}
	initial = no
	randomized = no
	species_possible_merge_add = {
		always = yes
	}
	modifier = {
		pc_arctic_habitability = @machine_primary
		pc_alpine_habitability = @machine_primary
		pc_tundra_habitability = @machine_primary

		pc_desert_habitability = @machine_secondary
		pc_arid_habitability = @machine_secondary
		pc_savannah_habitability = @machine_secondary

		pc_ocean_habitability = @machine_secondary
		pc_continental_habitability = @machine_secondary
		pc_tropical_habitability = @machine_secondary
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_habitat_planet_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_habitat_preference.dds"
	allowed_archetypes = { MACHINE ROBOT }
	sorting_priority = 30
	bound_to_planet_classes = {
		pc_habitat
	}
	initial = no
	randomized = no
	species_potential_add = {
		hidden_trigger = { exists = from }
		from = {
			has_origin = origin_void_machines
		}
	}
	species_possible_merge_add = {
		always = yes
	}
	species_possible_remove = {
		always = yes
	}
	modifier = {
		pc_habitat_habitability = @primary
	}
	ai_weight = {
		weight = 0
	}
}

trait_pc_cosmogenesis_world_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_machine_preference.dds"
	allowed_archetypes = { BIOLOGICAL PRESAPIENT LITHOID MACHINE ROBOT }
	sorting_priority = 30
	bound_to_planet_classes = {
		pc_cosmogenesis_world
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	modifier = {
		pc_cosmogenesis_world_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_gaia_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_gaia_preference.dds"
	allowed_archetypes = { ROBOT MACHINE }
	bound_to_planet_classes = {
		pc_gaia
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	sorting_priority = 30
	modifier = {
		pc_gaia_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_machine_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_machine_preference.dds"
	allowed_archetypes = { ROBOT MACHINE }
	bound_to_planet_classes = {
		pc_machine
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	sorting_priority = 30
	modifier = {
		pc_machine_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_shattered_ring_habitable_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ring_preference.dds"
	allowed_archetypes = { ROBOT MACHINE }
	bound_to_planet_classes = {
		pc_shattered_ring_habitable
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	sorting_priority = 30
	modifier = {
		pc_ringworld_habitable_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_ringworld_habitable_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_ring_preference.dds"
	allowed_archetypes = { ROBOT MACHINE }
	bound_to_planet_classes = {
		pc_ringworld_habitable
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	sorting_priority = 30
	modifier = {
		pc_ringworld_habitable_habitability = 1.0
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_relic_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_relic_preference.dds"
	allowed_archetypes = { ROBOT MACHINE }
	bound_to_planet_classes = {
		pc_relic
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { ROBOT MACHINE }
	sorting_priority = 30
	modifier = {
		pc_relic_habitability = @primary
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_nuked_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_nuked_preference.dds"
	bound_to_planet_classes = {
		pc_nuked
	}
	initial = no
	randomized = no
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	allowed_archetypes = { ROBOT MACHINE }
	sorting_priority = 30
	modifier = {
		pc_nuked_habitability = @primary
		pc_desert_habitability = @secondary
		pc_tropical_habitability = @secondary
		pc_continental_habitability = @secondary
		pc_ocean_habitability = @secondary
		pc_arctic_habitability = @secondary
		pc_tundra_habitability = @secondary
		pc_arid_habitability = @secondary
		pc_savannah_habitability = @secondary
		pc_alpine_habitability = @secondary
	}
	ai_weight = {
		weight = 0
	}
}

trait_machine_pc_nanotech_preference = {
	icon = "gfx/interface/icons/traits/trait_pc_nuked_preference.dds"
	bound_to_planet_classes = {
		pc_nanotech
	}
	species_potential_add = {
		always = no
	}
	species_possible_merge_add = {
		always = yes
	}
	initial = no
	randomized = no
	allowed_archetypes = { ROBOT MACHINE }
	sorting_priority = 30
	modifier = {
		pc_nanotech_habitability = @primary
		pc_desert_habitability = @secondary
		pc_tropical_habitability = @secondary
		pc_continental_habitability = @secondary
		pc_ocean_habitability = @secondary
		pc_arctic_habitability = @secondary
		pc_tundra_habitability = @secondary
		pc_arid_habitability = @secondary
		pc_savannah_habitability = @secondary
		pc_alpine_habitability = @secondary
	}
	ai_weight = {
		weight = 0
	}
}
